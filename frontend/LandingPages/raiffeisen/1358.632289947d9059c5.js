"use strict";(self.webpackChunkraiffeisen_pi=self.webpackChunkraiffeisen_pi||[]).push([[1358],{21358:(T,M,s)=>{s.r(M),s.d(M,{ActivityReportModule:()=>K});var o=s(36895),h=s(24006),O=s(66159),u=s(89383),p=s(188),v=s(90453),t=s(94650),x=s(16917),P=s(12108),b=s(21990),A=s(15439),d=s.n(A),D=s(31355);function g(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"form",11)(1,"ui-rzbr-datepicker",12),t.NdJ("valueChange",function(r){t.CHM(e);const _=t.oxw();return t.KtG(_.changeDate(r))}),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"ui-rzbr-datepicker",13),t.NdJ("valueChange",function(r){t.CHM(e);const _=t.oxw();return t.KtG(_.changeDate(r,!1))}),t.ALo(4,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(1),t.Q6J("readonly",!0)("date",e.getDate())("maxDate",e.getMax())("minDate",e.getMin())("label",t.lcZ(2,11,"general__labels__from")),t.xp6(2),t.Q6J("readonly",!0)("date",e.getDate(!1))("maxDate",e.getMax(!1))("minDate",e.getMin(!1))("label",t.lcZ(4,13,"general__labels__to"))}}function C(n,l){1&n&&(t.TgZ(0,"div",14),t._UZ(1,"ui-rzbr-preloader",15),t.qZA()),2&n&&(t.xp6(1),t.Q6J("showLoader",!0)("noBackground",!0))}function a(n,l){if(1&n&&(t._UZ(0,"div",16),t.ALo(1,"translate")),2&n){const e=t.oxw();t.Q6J("innerHTML",t.lcZ(1,1,e.displayIntervalError),t.oJD)}}function m(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.handleGenerateClick())}),t._UZ(1,"span",22),t.ALo(2,"translate"),t._UZ(3,"ui-rzbr-icon",23),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",e.displayIntervalError)("type","primary"),t.xp6(1),t.Q6J("innerHtml",t.lcZ(2,4,"credit_card__activity_report_tile__request_btn"),t.oJD),t.xp6(2),t.Q6J("name",e.iconName.ARROW_RIGHT_BOLD)}}function c(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.handleDownloadClick())}),t._UZ(1,"span",22),t.ALo(2,"translate"),t._UZ(3,"ui-rzbr-icon",23),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("type","primary"),t.xp6(1),t.Q6J("innerHtml",t.lcZ(2,3,"credit_card__activity_report_tile__download_btn"),t.oJD),t.xp6(2),t.Q6J("name",e.iconName.ARROW_RIGHT_BOLD)}}function f(n,l){if(1&n&&(t.TgZ(0,"section",17)(1,"div",18),t.YNc(2,m,4,6,"button",19),t.YNc(3,c,4,5,"button",20),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",!e.lastReport),t.xp6(1),t.Q6J("ngIf","last"===e.type&&e.lastReport)}}let y=(()=>{class n{set openingDate(e){this._openingDate=e?d()(e):this._creditCardMinDate}get openingDate(){return this._openingDate.format(this.DATEPICKER_OUTPUT_FORMAT)}constructor(e){this.fb=e,this.DATEPICKER_OUTPUT_FORMAT="YYYY-MM-DD",this.DATE_MAX_DIFF_DAYS=366,this._creditCardMinDate=d()("2013-02-01"),this.loading=!0,this.isActive=!1,this.type="request",this.itemClick=new t.vpe,this.pdfClicked=new t.vpe,this.downloadClicked=new t.vpe,this.generateClicked=new t.vpe,this.iconName=p.uHH,this.today=d()(),this.yesterday=d()().subtract(1,"days")}ngOnInit(){this.form=this.fb.group({startDate:[d()().startOf("month"),[h.kI.required]],endDate:[d()(),[h.kI.required]]})}getMin(e=!0){return!e&&this.startDate?this.startDate.toDate():(this._creditCardMinDate.isBefore(this._openingDate)?this._openingDate:this._creditCardMinDate).toDate()}getMax(e=!0){return e&&this.endDate?this.yesterday.isBefore(this.endDate)?d()().toDate():this.endDate.toDate():d()().toDate()}isDownloadsDisabled(){return!this.startDate||!this.endDate||this.error||this.displayIntervalError}changeDate(e,i=!0){if(!e)return;const r=d()(e);i?(this.startDate=r,this.endDate&&(this.displayIntervalError=d()(this.endDate).subtract(this.DATE_MAX_DIFF_DAYS,"days").isAfter(this.startDate,"days")?"credit_card__activity_report_tile__request_err":null)):(this.endDate=r,this.startDate&&(this.displayIntervalError=d()(this.startDate).add(this.DATE_MAX_DIFF_DAYS,"days").isBefore(this.endDate,"days")?"credit_card__activity_report_tile__request_err":null))}getDate(e=!0){if(e){if(this.startDate)return this.startDate.toDate()}else if(this.endDate)return this.endDate.toDate()}fieldErrors(e){const i=this.form.get(e);return!!(i&&i.errors&&i.errors.required)}handleDownloadClick(){this.downloadClicked.emit()}handleGenerateClick(){if("last"===this.type)this.pdfClicked.emit();else{const e=d()(this.form.controls.startDate.value),i=d()(this.form.controls.endDate.value);if(e.diff(i,"day")>0)return void(this.displayIntervalError="credit_card__activity_report_tile__request_err");const r={startDate:e.format("YYYY-MM-DD"),endDate:i.format("YYYY-MM-DD")};this.generateClicked.emit(r)}}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(h.QS))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ui-rzbr-activity-report-tile"]],inputs:{openingDate:"openingDate",error:"error",loading:"loading",lastReport:"lastReport",isActive:"isActive",type:"type",minDate:"minDate"},outputs:{itemClick:"itemClick",pdfClicked:"pdfClicked",downloadClicked:"downloadClicked",generateClicked:"generateClicked"},decls:13,vars:11,consts:[[1,"activity-report-tile",3,"ngClass","click"],[1,"header",3,"click"],[1,"page-title--black",3,"innerHTML"],[1,"hint"],[1,"i-icon"],[3,"innerHTML"],["class","content-request",3,"formGroup",4,"ngIf"],["class","loading",4,"ngIf"],[1,"content-footer"],["class","content-footer-err",3,"innerHTML",4,"ngIf"],["class","content-req-footer",4,"ngIf"],[1,"content-request",3,"formGroup"],["formControlName","startDate",1,"form-item",3,"readonly","date","maxDate","minDate","label","valueChange"],["formControlName","endDate",1,"form-item",3,"readonly","date","maxDate","minDate","label","valueChange"],[1,"loading"],[3,"showLoader","noBackground"],[1,"content-footer-err",3,"innerHTML"],[1,"content-req-footer"],[1,"content-footer-btn"],["uiRzbrButton","",3,"disabled","type","click",4,"ngIf"],["uiRzbrButton","",3,"type","click",4,"ngIf"],["uiRzbrButton","",3,"disabled","type","click"],[3,"innerHtml"],[3,"name"],["uiRzbrButton","",3,"type","click"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return r.itemClick.emit()}),t.TgZ(1,"div",1),t.NdJ("click",function(){return r.itemClick.emit()}),t._UZ(2,"h3",2),t.ALo(3,"translate"),t.TgZ(4,"div",3),t._UZ(5,"span",4)(6,"div",5),t.ALo(7,"translate"),t.qZA()(),t.YNc(8,g,5,15,"form",6),t.YNc(9,C,2,2,"div",7),t.TgZ(10,"section",8),t.YNc(11,a,2,3,"div",9),t.qZA(),t.YNc(12,f,4,2,"section",10),t.qZA()),2&i&&(t.Q6J("ngClass",r.isActive?"active-tile":""),t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,7,"request"===r.type?"credit_card__activity_report_tile__request_title":"credit_card__activity_report_tile__last_title"),t.oJD),t.xp6(4),t.Q6J("innerHTML",t.lcZ(7,9,"request"===r.type?"credit_card__activity_report_tile__request_hint":r.error?"general__label__tehnical_error":"credit_card__activity_report_tile__last_hint"),t.oJD),t.xp6(2),t.Q6J("ngIf",r.isActive&&"request"===r.type),t.xp6(1),t.Q6J("ngIf","last"===r.type&&r.isActive&&r.loading),t.xp6(2),t.Q6J("ngIf",r.displayIntervalError),t.xp6(1),t.Q6J("ngIf",r.isActive&&!r.loading))},dependencies:[o.mk,o.O5,h._Y,h.JJ,h.JL,h.sg,h.u,p.lDN,D.Q,p._kN,p.NjR,u.X$],styles:['h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:5rem}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:3.2rem}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:2.8rem}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:2.4rem}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:2rem}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:1.6rem}.activity-report-tile[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]   span.i-icon[_ngcontent-%COMP%]:before, [class^=icon-][_ngcontent-%COMP%]:before, [class*=" icon-"][_ngcontent-%COMP%]:before{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.activity-report-tile[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:2.5rem;margin-bottom:2.4rem;opacity:.5;max-height:20rem;border-top:solid 1rem #fee600;box-shadow:0 0 1rem #0006;max-width:50rem;cursor:pointer}@media (max-width: 767.98px){.activity-report-tile[_ngcontent-%COMP%]{max-height:100%}}.activity-report-tile.active-tile[_ngcontent-%COMP%]{opacity:1;max-height:100%}.activity-report-tile.active-tile[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{position:relative;min-height:5rem;margin-bottom:2.4rem}.activity-report-tile.active-tile[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:4.8rem}.activity-report-tile.active-tile[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-left:4rem}.activity-report-tile.active-tile[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{display:flex;font-size:2rem}.activity-report-tile.active-tile[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]   span.i-icon[_ngcontent-%COMP%]{font-size:3rem}.activity-report-tile.active-tile[_ngcontent-%COMP%]   .content-request[_ngcontent-%COMP%]{display:flex;align-content:space-between;padding:0 3.2rem}@media (max-width: 767.98px){.activity-report-tile.active-tile[_ngcontent-%COMP%]   .content-request[_ngcontent-%COMP%]{flex-direction:column}}.activity-report-tile.active-tile[_ngcontent-%COMP%]   .content-request[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]{margin:0 1.6rem 2.4rem}.activity-report-tile.active-tile[_ngcontent-%COMP%]   .content-req-footer[_ngcontent-%COMP%]{display:flex;flex-direction:row}@media (max-width: 767.98px){.activity-report-tile.active-tile[_ngcontent-%COMP%]   .content-req-footer[_ngcontent-%COMP%]{flex-direction:column}}.activity-report-tile.active-tile[_ngcontent-%COMP%]   .content-footer-btn[_ngcontent-%COMP%]{width:50%;margin:0 0 0 auto}@media (max-width: 767.98px){.activity-report-tile.active-tile[_ngcontent-%COMP%]   .content-footer-btn[_ngcontent-%COMP%]{width:100%}}.activity-report-tile.active-tile[_ngcontent-%COMP%]   .content-footer-err[_ngcontent-%COMP%]{margin:auto;padding:.8rem;text-align:center;font-size:1.4rem;color:#e61e33}@media (max-width: 767.98px){.activity-report-tile.active-tile[_ngcontent-%COMP%]   .content-footer-err[_ngcontent-%COMP%]{width:100%}}.activity-report-tile.active-tile[_ngcontent-%COMP%]   .content-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.activity-report-tile.active-tile[_ngcontent-%COMP%]   .content-footer[_ngcontent-%COMP%]   .content-label[_ngcontent-%COMP%]{text-transform:uppercase;padding:2.4rem;background-color:#e9eaea;border-bottom:solid 1px #d5d5d6}.activity-report-tile.active-tile[_ngcontent-%COMP%]   .content-footer[_ngcontent-%COMP%]   .content-buttons[_ngcontent-%COMP%]{padding:2.4rem}.activity-report-tile[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:4rem}.activity-report-tile[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-left:3.5rem;font-size:3rem}.activity-report-tile[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.8rem}.activity-report-tile[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]   span.i-icon[_ngcontent-%COMP%]{margin-right:1rem;font-size:2.4rem}.activity-report-tile[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]   span.i-icon[_ngcontent-%COMP%]:before{content:"\\e97e"}'],changeDetection:0})}return n})();function R(n,l){1&n&&(t._UZ(0,"ui-rzbr-no-info",2),t.ALo(1,"translate")),2&n&&t.Q6J("message",t.lcZ(1,1,"credit_card__activity_report_list__no_rec"))}function w(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"ui-rzbr-checkbox",8),t.NdJ("itemClick",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.selectListOption(-1))}),t.qZA()(),t._UZ(3,"div",9),t.ALo(4,"translate"),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("checked",e.isSelected(-1)),t.xp6(1),t.Q6J("innerHTML",t.lcZ(4,2,"credit_card__activity_report_list__select_all"),t.oJD)}}function L(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",7)(2,"ui-rzbr-checkbox",8),t.NdJ("itemClick",function(){const _=t.CHM(e).index,S=t.oxw(2);return t.KtG(S.selectListOption(_))}),t.qZA()(),t.TgZ(3,"div",11)(4,"div",12),t._uU(5),t.ALo(6,"async"),t.ALo(7,"dateLongFormat"),t.qZA(),t._UZ(8,"div",13),t.ALo(9,"translate"),t.qZA()()}if(2&n){const e=l.$implicit,i=l.index,r=t.oxw(2);t.Q6J("ngClass",i%2==0?"item-gray":""),t.xp6(2),t.Q6J("checked",r.isSelected(i)),t.xp6(3),t.hij(" ",t.lcZ(6,4,t.lcZ(7,6,e.statementDate))," "),t.xp6(3),t.Q6J("innerHTML",t.lcZ(9,8,"credit_card__activity_report_list__item"),t.oJD)}}function Z(n,l){if(1&n&&(t.TgZ(0,"div",3),t.YNc(1,w,5,4,"div",4),t.YNc(2,L,10,10,"div",5),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.list.length>1),t.xp6(1),t.Q6J("ngForOf",e.list)("ngForTrackBy",e.trackByFn)}}let J=(()=>{class n{constructor(){this.list=[],this.selectionChanged=new t.vpe,this.selectedItems=[]}trackByFn(e){return e}selectListOption(e){let i=[...this.selectedItems];i.includes(e)?i=-1===e?[]:i.filter(r=>r!==e&&r>-1):-1===e?(i=[-1],this.list.forEach((r,_)=>{i.push(_)})):(i.push(e),i.length===this.list.length&&i.push(-1)),this.selectedItems=i,this.selectionChanged.emit(this.list.filter((r,_)=>this.selectedItems.includes(_)))}isSelected(e){return this.selectedItems.includes(e)}resetSelection(){this.selectedItems=[]}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ui-rzbr-activity-report-list"]],inputs:{list:"list"},outputs:{selectionChanged:"selectionChanged"},decls:2,vars:2,consts:[[3,"message",4,"ngIf"],["class","activity-report-list",4,"ngIf"],[3,"message"],[1,"activity-report-list"],["class","activity-report-item",4,"ngIf"],["class","activity-report-item",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"activity-report-item"],[1,"item-ckb"],[3,"checked","itemClick"],[1,"item-text",3,"innerHTML"],[1,"activity-report-item",3,"ngClass"],[1,"item-text"],[1,"item-text-title"],[1,"item-text-desc",3,"innerHTML"]],template:function(i,r){1&i&&(t.YNc(0,R,2,3,"ui-rzbr-no-info",0),t.YNc(1,Z,3,3,"div",1)),2&i&&(t.Q6J("ngIf",!r.list||0===r.list.length),t.xp6(1),t.Q6J("ngIf",r.list&&r.list.length>0))},dependencies:[o.mk,o.sg,o.O5,p.qbt,p.WtY,o.Ov,u.X$,p.eJn],styles:['h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:5rem}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:3.2rem}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:2.8rem}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:2.4rem}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:2rem}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:1.6rem}[class^=icon-][_ngcontent-%COMP%]:before, [class*=" icon-"][_ngcontent-%COMP%]:before{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.activity-report-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:2.4rem}.activity-report-list[_ngcontent-%COMP%]   .activity-report-item[_ngcontent-%COMP%]{background-color:#fff;border-bottom:solid 1px #d5d5d6;display:flex}.activity-report-list[_ngcontent-%COMP%]   .activity-report-item.item-gray[_ngcontent-%COMP%]{background-color:#f8f8f8}.activity-report-list[_ngcontent-%COMP%]   .activity-report-item[_ngcontent-%COMP%]   .item-ckb[_ngcontent-%COMP%]{padding:2.4rem}.activity-report-list[_ngcontent-%COMP%]   .activity-report-item[_ngcontent-%COMP%]   .item-text[_ngcontent-%COMP%]{margin:auto auto auto .8rem;display:flex;flex-direction:column}.activity-report-list[_ngcontent-%COMP%]   .activity-report-item[_ngcontent-%COMP%]   .item-text-title[_ngcontent-%COMP%]{margin-bottom:.8rem;font-weight:700}'],changeDetection:0})}return n})();const I=["list"];function z(n,l){1&n&&(t.ynx(0),t._UZ(1,"h1",2),t.ALo(2,"translate"),t.TgZ(3,"div",3),t._UZ(4,"ui-rzbr-preloader",4),t.qZA(),t.BQk()),2&n&&(t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,3,"credit_card__activity_report__title"),t.oJD),t.xp6(3),t.Q6J("showLoader",!0)("noBackground",!0))}function Q(n,l){1&n&&(t.ynx(0),t._UZ(1,"ui-rzbr-no-info",6),t.ALo(2,"translate"),t.BQk()),2&n&&(t.xp6(1),t.Q6J("message",t.lcZ(2,2,"credit_card__activity_account__loading_error"))("highlighted",!0))}function E(n,l){1&n&&(t.ynx(0),t.TgZ(1,"div",16),t._UZ(2,"ui-rzbr-preloader",4),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.Q6J("showLoader",!0)("noBackground",!0))}function F(n,l){1&n&&(t.ynx(0),t._UZ(1,"ui-rzbr-no-info",17),t.ALo(2,"translate"),t.BQk()),2&n&&(t.xp6(1),t.Q6J("message",t.lcZ(2,1,"general__label__tehnical_error")))}const k=function(n){return{count:n}};function H(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",22)(1,"button",23),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(7);return t.KtG(r.downloadSelectedReports())}),t.ALo(2,"translate"),t._UZ(3,"span",24),t.ALo(4,"translate"),t._UZ(5,"ui-rzbr-icon",25),t.qZA()()}if(2&n){const e=t.oxw(7);t.xp6(1),t.Q6J("title",t.xi3(2,4,1===e.selectedReports.length?"credit_card__activity_report_list__download_one":"credit_card__activity_report_list__download",t.VKq(10,k,e.selectedReports.length)))("type","primary"),t.xp6(2),t.Q6J("innerHtml",t.xi3(4,7,1===e.selectedReports.length?"credit_card__activity_report_list__download_one":"credit_card__activity_report_list__download",t.VKq(12,k,e.selectedReports.length)),t.oJD),t.xp6(2),t.Q6J("name",e.iconName.ARROW_RIGHT_BOLD)}}function N(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"section",18)(1,"ui-rzbr-activity-report-list",19,20),t.NdJ("selectionChanged",function(r){t.CHM(e);const _=t.oxw(6);return t.KtG(_.setListSelection(r))}),t.ALo(3,"async"),t.qZA(),t.YNc(4,H,6,14,"div",21),t.qZA()}if(2&n){const e=t.oxw(6);t.xp6(1),t.Q6J("list",t.lcZ(3,2,e.list$)),t.xp6(3),t.Q6J("ngIf",e.selectedReports&&e.selectedReports.length>0)}}function Y(n,l){if(1&n&&(t.YNc(0,F,3,3,"ng-container",0),t.ALo(1,"async"),t.YNc(2,N,5,4,"ng-template",null,5,t.W1O)),2&n){const e=t.MAs(3),i=t.oxw(5);t.Q6J("ngIf",t.lcZ(1,2,i.errorReports$))("ngIfElse",e)}}function B(n,l){if(1&n&&(t.TgZ(0,"div",14),t._UZ(1,"h1",15),t.ALo(2,"translate"),t.YNc(3,E,3,2,"ng-container",0),t.ALo(4,"async"),t.YNc(5,Y,4,4,"ng-template",null,1,t.W1O),t.qZA()),2&n){const e=t.MAs(6),i=t.oxw(4);t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,3,"credit_card__activity_report__list_title"),t.oJD),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,5,i.loadingReports$))("ngIfElse",e)}}function U(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9),t._UZ(2,"h1",2),t.ALo(3,"translate"),t.TgZ(4,"div",10)(5,"ui-rzbr-activity-report-tile",11),t.NdJ("itemClick",function(){t.CHM(e);const r=t.oxw(3);return t.KtG(r.lastActive=!0)})("downloadClicked",function(){t.CHM(e);const r=t.oxw(3);return t.KtG(r.downloadLastReport())}),t.ALo(6,"async"),t.ALo(7,"async"),t.ALo(8,"async"),t.qZA(),t.TgZ(9,"ui-rzbr-activity-report-tile",12),t.NdJ("itemClick",function(){t.CHM(e);const r=t.oxw(3);return t.KtG(r.lastActive=!1)})("generateClicked",function(r){t.CHM(e);const _=t.oxw(3);return t.KtG(_.generateReportsList(r))}),t.ALo(10,"async"),t.ALo(11,"async"),t.qZA()(),t.YNc(12,B,7,7,"div",13),t.qZA()()}if(2&n){const e=l.ngIf,i=t.oxw(3);t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,14,"credit_card__activity_report__title"),t.oJD),t.xp6(3),t.Q6J("type","last")("loading",t.lcZ(6,16,i.loadingLast$))("error",t.lcZ(7,18,i.errorLast$))("lastReport",t.lcZ(8,20,i.lastReport$))("openingDate",e.ccDateApproved)("isActive",i.lastActive),t.xp6(4),t.Q6J("type","request")("loading",t.lcZ(10,22,i.loadingReports$))("error",t.lcZ(11,24,i.errorReports$))("openingDate",e.ccDateApproved)("isActive",!i.lastActive)("minDate",i.getMinDate(e)),t.xp6(3),t.Q6J("ngIf",!i.lastActive&&i.listGenerated)}}function $(n,l){if(1&n&&(t.YNc(0,U,13,26,"div",7),t.ALo(1,"async")),2&n){const e=t.oxw(2);t.Q6J("ngIf",t.lcZ(1,1,e.selectedAccount$))}}function q(n,l){if(1&n&&(t.YNc(0,Q,3,4,"ng-container",0),t.ALo(1,"async"),t.YNc(2,$,2,3,"ng-template",null,5,t.W1O)),2&n){const e=t.MAs(3),i=t.oxw();t.Q6J("ngIf",t.lcZ(1,2,i.errorAccount$))("ngIfElse",e)}}const G=[{path:"",component:(()=>{class n{constructor(e,i,r,_){this.activityReportFacade=e,this.accountsFacade=i,this.utilsFacade=r,this.document=_,this.iconName=p.uHH,this.selectedAccount$=this.activityReportFacade.selectedAccount$,this.loadingAccount$=this.activityReportFacade.loadingAccount$,this.errorAccount$=this.activityReportFacade.errorAccount$,this.loadingLast$=this.activityReportFacade.loadingLast$,this.errorLast$=this.activityReportFacade.errorLast$,this.lastReport$=this.activityReportFacade.lastReport$,this.loadingReports$=this.activityReportFacade.loadingReports$,this.errorReports$=this.activityReportFacade.errorReports$,this.list$=this.activityReportFacade.reports$,this.lastActive=!0,this.listGenerated=!1,this.selectedReports=[]}ngOnInit(){this.activityReportFacade.loadAccountCreditDetails()}ngOnDestroy(){this.activityReportFacade.reset()}trackByFn(e){return e}generateLastReport(){this.activityReportFacade.loadLastActivityReport()}downloadLastReport(){this.activityReportFacade.downloadLastActivityReport()}generateReportsList(e){this.listGenerated=!0,this.activityReportFacade.loadActivityReportsList(e),this.selectedReports=[],this.listComponent&&this.listComponent.resetSelection()}setListSelection(e){this.selectedReports=e}downloadSelectedReports(){!this.selectedReports||0===this.selectedReports.length||this.selectedReports.forEach(e=>{setTimeout(()=>{this.activityReportFacade.downloadActivityReport(e.fileId)},1e3)})}getMinDate(e){return e&&e.ccDateApproved?e.ccDateApproved:void 0}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(x.B),t.Y36(P.q),t.Y36(b.I),t.Y36(o.K0))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ui-rzbr-activity-report"]],viewQuery:function(i,r){if(1&i&&t.Gf(I,5),2&i){let _;t.iGM(_=t.CRH())&&(r.listComponent=_.first)}},decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["container",""],[1,"page-title",3,"innerHTML"],[1,"activity-report-preloader"],[3,"showLoader","noBackground"],["content",""],[3,"message","highlighted"],["class","activity-report",4,"ngIf"],[1,"activity-report"],[1,"activity-report-content"],[1,"activity-report-tiles"],[3,"type","loading","error","lastReport","openingDate","isActive","itemClick","downloadClicked"],[3,"type","loading","error","openingDate","isActive","minDate","itemClick","generateClicked"],["class","activity-report-reports",4,"ngIf"],[1,"activity-report-reports"],[1,"page-title","report-title",3,"innerHTML"],[1,"loading"],[3,"message"],[1,"activity-report-list"],[3,"list","selectionChanged"],["list",""],["class","activity-report-list-btn",4,"ngIf"],[1,"activity-report-list-btn"],["uiRzbrButton","",3,"title","type","click"],[3,"innerHtml"],[3,"name"]],template:function(i,r){if(1&i&&(t.YNc(0,z,5,5,"ng-container",0),t.ALo(1,"async"),t.YNc(2,q,4,4,"ng-template",null,1,t.W1O)),2&i){const _=t.MAs(3);t.Q6J("ngIf",t.lcZ(1,2,r.loadingAccount$))("ngIfElse",_)}},dependencies:[o.O5,p.qbt,p.lDN,p._kN,p.NjR,y,J,o.Ov,u.X$],styles:['h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:5rem}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:3.2rem}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:2.8rem}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:2.4rem}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:2rem}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:1.6rem}[class^=icon-][_ngcontent-%COMP%]:before, [class*=" icon-"][_ngcontent-%COMP%]:before{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.activity-report-preloader[_ngcontent-%COMP%]{width:100%;height:10rem;position:relative}.activity-report-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.activity-report-tiles[_ngcontent-%COMP%]{margin:2.4rem 0 1.6rem;display:flex;width:100%}@media (max-width: 1599.98px){.activity-report-tiles[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 1199.98px){.activity-report-tiles[_ngcontent-%COMP%]{flex-direction:row}}@media (max-width: 991.98px){.activity-report-tiles[_ngcontent-%COMP%]{flex-direction:column}}.activity-report-reports[_ngcontent-%COMP%]{display:flex;flex-direction:column}.activity-report-reports[_ngcontent-%COMP%]   .report-title[_ngcontent-%COMP%]{margin-bottom:1.6rem}.activity-report-reports[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{position:relative;min-height:10rem;margin-bottom:2.4rem}.activity-report-list[_ngcontent-%COMP%]{width:calc(100% - 14rem);display:flex;flex-direction:column}@media (max-width: 991.98px){.activity-report-list[_ngcontent-%COMP%]{width:100%}}.activity-report-list-btn[_ngcontent-%COMP%]{width:50%;margin:.8rem 0 .8rem auto}@media (max-width: 991.98px){.activity-report-list-btn[_ngcontent-%COMP%]{width:100%}}'],changeDetection:0})}return n})()}];let K=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[o.ez,u.aw,h.UX,O.Bz.forChild(G),p._$z,p.dvI,v.Z,p.QYi,p.vox,p.Dgd,p.eVA]})}return n})()},31355:(T,M,s)=>{s.d(M,{Q:()=>D});var o=s(94650),h=s(24006),O=s(15439),u=s.n(O),p=s(188),v=s(36895),t=s(36298),x=s(8397);const P=["dp"];function b(g,C){if(1&g&&o._UZ(0,"label",6),2&g){const a=o.oxw();o.Tol(a.labelClass),o.Q6J("innerHTML",a.label,o.oJD),o.uIk("aria-label",a.ariaLabel)}}function A(g,C){if(1&g&&o._UZ(0,"div",7),2&g){const a=o.oxw();o.Q6J("innerHTML",a.errorMsg,o.oJD),o.uIk("aria-label",a.ariaError)}}const d=function(g,C){return{"datepicker-disabled":g,"datepicker--error":C}};let D=(()=>{class g{set date(a){void 0!==this.dp&&(this.dp._bsValue=void 0!==a?a:void 0),this._date=a}get date(){return this._date}constructor(a){this.dynamicLocaleService=a,this.locale$=this.dynamicLocaleService.locale$,this.placeholder="",this.customMessage="",this.prefixMessage="",this.label="",this.labelClass="input-label",this.disabled=!1,this.readonly=!1,this.outputFormat="",this.tooltipMessage="",this.error=!1,this.showError=!1,this.errorMsg="",this.ariaInput="",this.ariaCustomMessage="",this.ariaLabel="",this.ariaError="",this.valueChange=new o.vpe,this.clickOnDisabled=new o.vpe,this.clicked=new o.vpe,this.hidden=new o.vpe,this.shown=new o.vpe,this.bsConfig={adaptivePosition:!0,isAnimated:!0,containerClass:"ui-rzbr-datepicker",customTodayClass:"today",dateInputFormat:this.dynamicLocaleService.dateFormat,showWeekNumbers:!1},this.onChange=()=>{},this.onTouched=()=>{}}click(a){this.disabled?this.clickOnDisabled.emit():"div"===a.tagName.toLowerCase()&&(this.dp.toggle(),this.clicked.emit())}registerOnChange(a){this.onChange=a}registerOnTouched(a){this.onTouched=a}setDisabledState(a){this.disabled=a}writeValue(a){const m=this.outputFormat.length&&a?u()(a).format(this.outputFormat):a;this.onChange(m),this.valueChange.emit(m)}static#t=this.\u0275fac=function(m){return new(m||g)(o.Y36(p.Qmw))};static#e=this.\u0275cmp=o.Xpm({type:g,selectors:[["ui-rzbr-datepicker"]],viewQuery:function(m,c){if(1&m&&o.Gf(P,5),2&m){let f;o.iGM(f=o.CRH())&&(c.dp=f.first)}},inputs:{placeholder:"placeholder",customMessage:"customMessage",prefixMessage:"prefixMessage",label:"label",labelClass:"labelClass",disabled:"disabled",readonly:"readonly",minDate:"minDate",maxDate:"maxDate",date:"date",outputFormat:"outputFormat",tooltipMessage:"tooltipMessage",error:"error",showError:"showError",errorMsg:"errorMsg",ariaInput:"ariaInput",ariaCustomMessage:"ariaCustomMessage",ariaLabel:"ariaLabel",ariaError:"ariaError"},outputs:{valueChange:"valueChange",clickOnDisabled:"clickOnDisabled",clicked:"clicked",hidden:"hidden",shown:"shown"},features:[o._Bn([{provide:h.JU,useExisting:(0,o.Gpc)(()=>g),multi:!0}])],decls:8,vars:22,consts:[[3,"class","innerHTML",4,"ngIf"],["container","body",1,"datepicker",3,"ngClass","tooltip","click"],["bsDatepicker","",3,"disabled","readonly","placeholder","bsConfig","minDate","maxDate","value","bsValueChange","onHidden","onShown"],["dp","bsDatepicker"],[1,"datepicker-custom-message",3,"innerHTML"],["class","input-error",3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"input-error",3,"innerHTML"]],template:function(m,c){1&m&&(o.YNc(0,b,1,4,"label",0),o.TgZ(1,"div",1),o.NdJ("click",function(y){return c.click(y.target)}),o.TgZ(2,"input",2,3),o.NdJ("bsValueChange",function(y){return c.writeValue(y)})("onHidden",function(){return c.hidden.emit()})("onShown",function(){return c.shown.emit()}),o.ALo(4,"async"),o.ALo(5,"dateLongFormat"),o.qZA(),o._UZ(6,"div",4),o.qZA(),o.YNc(7,A,1,2,"div",5)),2&m&&(o.Q6J("ngIf",c.label),o.xp6(1),o.Q6J("ngClass",o.WLB(19,d,c.disabled,c.error&&c.showError))("tooltip",c.tooltipMessage),o.xp6(1),o.Q6J("disabled",c.disabled)("readonly",c.readonly)("placeholder",c.placeholder)("bsConfig",c.bsConfig)("minDate",c.minDate)("maxDate",c.maxDate)("value",o.lcZ(4,14,o.xi3(5,16,c.date||"",c.prefixMessage))),o.uIk("aria-label",c.ariaInput),o.xp6(4),o.Q6J("innerHTML",c.customMessage,o.oJD),o.uIk("aria-label",c.ariaCustomMessage),o.xp6(1),o.Q6J("ngIf",c.error&&c.showError))},dependencies:[v.mk,v.O5,t.Np,t.Y5,x.i9,v.Ov,p.eJn],styles:['h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:5rem}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:3.2rem}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:2.8rem}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:2.4rem}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:2rem}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:1.6rem}.datepicker[_ngcontent-%COMP%]:before, [class^=icon-][_ngcontent-%COMP%]:before, [class*=" icon-"][_ngcontent-%COMP%]:before{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.datepicker[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:5.8rem;font-size:1.6rem;position:relative;cursor:pointer}.datepicker[_ngcontent-%COMP%]:before{content:"\\e96f"}@media (max-width: 479.98px){.datepicker[_ngcontent-%COMP%]{height:4.8rem;font-size:1.4rem}}.datepicker.disabled[_ngcontent-%COMP%]{cursor:default}.datepicker--error[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:0;width:.4rem;height:100%;background-color:#e61e33;display:block}.datepicker[_ngcontent-%COMP%]:before{position:absolute;right:1.6rem;top:50%;transform:translateY(-50%);font-size:1.8rem;cursor:pointer;color:#aaabad}@media (max-width: 479.98px){.datepicker[_ngcontent-%COMP%]:before{font-size:1.5rem;right:.8rem}}.datepicker[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#fff;border:1px solid #d5d5d6;padding:0 4.8rem 0 1.6rem;cursor:pointer;transition-duration:.3s}.datepicker[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(.disabled):hover{box-shadow:0 7.5px 15px -7.5px #0000004d;border:1px solid #2b2d33;transition-duration:.3s}.datepicker[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{cursor:default;color:#aaabad}@media (max-width: 479.98px){.datepicker[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 3.2rem 0 .8rem}}.datepicker-custom-message[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);right:4.8rem;color:#aaabad}@media (max-width: 479.98px){.datepicker-custom-message[_ngcontent-%COMP%]{font-size:1.4rem}}'],changeDetection:0})}return g})()}}]);