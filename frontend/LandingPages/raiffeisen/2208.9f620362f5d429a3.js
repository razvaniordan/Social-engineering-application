"use strict";(self.webpackChunkraiffeisen_pi=self.webpackChunkraiffeisen_pi||[]).push([[2208],{82208:(w,b,l)=>{l.r(b),l.d(b,{AccountStatementModule:()=>_t});var o=l(36895),S=l(66159),g=l(89383),p=l(188),O=l(90453),C=l(18505),v=l(54004),y=l(11365),A=l(55406),m=l(87002),T=l(83009),x=l(15439),c=l.n(x),t=l(94650),D=l(12108),r=l(3804);let u=(()=>{class a{set selected(n){this._selected=n}get selected(){return this._selected}constructor(n){this.accountStatementsFacade=n,this._selected=[],this.active=!1,this.disabled=!1,this.disabledDownloads=!1,this.isSelectedCc=!1,this.lastActivityReportDate="",this.isTmOrLnSelected=!1,this.show=!0,this.title="",this.description="",this.error="",this.clicked=new t.vpe,this.clickedOnDisable=new t.vpe,this.pdfClicked=new t.vpe,this.xlsClicked=new t.vpe,this.activeTab$=this.accountStatementsFacade.activeTab$}emitItemClick(){this.disabled?this.clickedOnDisable.emit():this.clicked.emit()}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(r.S))};static#e=this.\u0275dir=t.lG2({type:a,selectors:[["account-statement-option-component"]],inputs:{active:"active",disabled:"disabled",disabledDownloads:"disabledDownloads",isSelectedCc:"isSelectedCc",lastActivityReportDate:"lastActivityReportDate",isTmOrLnSelected:"isTmOrLnSelected",show:"show",title:"title",description:"description",error:"error",selected:"selected"},outputs:{clicked:"clicked",clickedOnDisable:"clickedOnDisable",pdfClicked:"pdfClicked",xlsClicked:"xlsClicked"}})}return a})();var d=l(31355);const f=function(a){return{"account-statement-option-header-description--active":a}};function M(a,_){if(1&a&&(t._UZ(0,"p",6),t.ALo(1,"translate")),2&a){const n=t.oxw();t.Q6J("ngClass",t.VKq(4,f,n.active))("innerHTML",t.lcZ(1,2,n.description),t.oJD)}}function Z(a,_){1&a&&(t.ynx(0),t._UZ(1,"span",9)(2,"span",10),t.ALo(3,"translate"),t.BQk()),2&a&&(t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,1,"account_statement__label__debit_last_report_info"),t.oJD))}function z(a,_){if(1&a&&(t.TgZ(0,"div",7),t.Hsn(1),t.YNc(2,Z,4,3,"ng-container",8),t.ALo(3,"async"),t.qZA()),2&a){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",1===t.lcZ(3,1,n.activeTab$))}}const J=function(a){return{"account-statement-option-footer-actions--disabled":a}};function I(a,_){if(1&a){const n=t.EpF();t.TgZ(0,"div",11),t._UZ(1,"p",12),t.ALo(2,"translate"),t.TgZ(3,"div",13)(4,"button",14),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.pdfClicked.emit())}),t._UZ(5,"span",15),t.ALo(6,"translate"),t._UZ(7,"img",16),t.qZA(),t.TgZ(8,"button",17),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.xlsClicked.emit())}),t._UZ(9,"span",15),t.ALo(10,"translate"),t._UZ(11,"img",18),t.qZA()()()}if(2&a){const n=t.oxw();t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,7,"account_statement__actions__generate__title"),t.oJD),t.xp6(2),t.Q6J("ngClass",t.VKq(13,J,n.disabled||n.disabledDownloads)),t.xp6(1),t.Q6J("type","white"),t.xp6(1),t.Q6J("innerHtml",t.lcZ(6,9,"account_statement__actions__generate_pdf"),t.oJD),t.xp6(3),t.Q6J("hidden",n.isTmOrLnSelected||n.isSelectedCc)("type","white"),t.xp6(1),t.Q6J("innerHtml",t.lcZ(10,11,"account_statement__actions__generate_xsl"),t.oJD)}}const F=function(a){return{"account-statement-option-header-title--active":a}},$=["*"];let P=(()=>{class a extends u{constructor(n){super(n)}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(r.S))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["ui-rzbr-account-statement-option-default"]],features:[t.qOj],ngContentSelectors:$,decls:7,vars:9,consts:[[1,"account-statement-option"],[1,"account-statement-option-header",3,"click"],[1,"account-statement-option-header-title",3,"ngClass","innerHTML"],["class","account-statement-option-header-description",3,"ngClass","innerHTML",4,"ngIf"],["class","account-statement-option-content",4,"ngIf"],["class","account-statement-option-footer",4,"ngIf"],[1,"account-statement-option-header-description",3,"ngClass","innerHTML"],[1,"account-statement-option-content"],[4,"ngIf"],[1,"info-icon"],[3,"innerHTML"],[1,"account-statement-option-footer"],[1,"account-statement-option-footer-title",3,"innerHTML"],[1,"account-statement-option-footer-actions",3,"ngClass"],["uiRzbrButton","",3,"type","click"],[3,"innerHtml"],["src","assets/images/pdf_icon.png","img","","alt",""],["uiRzbrButton","",3,"hidden","type","click"],["src","assets/images/xls_icon.png","img","","alt",""]],template:function(i,e){1&i&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return e.emitItemClick()}),t._UZ(2,"h1",2),t.ALo(3,"translate"),t.YNc(4,M,2,6,"p",3),t.qZA(),t.YNc(5,z,4,3,"div",4),t.YNc(6,I,12,15,"div",5),t.qZA()),2&i&&(t.xp6(2),t.Q6J("ngClass",t.VKq(7,F,e.active))("innerHTML",t.lcZ(3,5,e.title),t.oJD),t.xp6(2),t.Q6J("ngIf",e.isSelectedCc),t.xp6(1),t.Q6J("ngIf",e.active),t.xp6(1),t.Q6J("ngIf",e.active))},dependencies:[o.mk,o.O5,p.NjR,o.Ov,g.X$],styles:['h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:5rem}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:3.2rem}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:2.8rem}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:2.4rem}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:2rem}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:1.6rem}.info-icon[_ngcontent-%COMP%]:before, .account-statement-option-info[_ngcontent-%COMP%]:before, .account-statement-option-header-description[_ngcontent-%COMP%]:before, [class^=icon-][_ngcontent-%COMP%]:before, [class*=" icon-"][_ngcontent-%COMP%]:before{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.account-statement-option[_ngcontent-%COMP%]{box-shadow:0 1px 3px #26262666;position:relative;border-top:.7rem solid #fee600;background-color:#fff}.account-statement-option-content[_ngcontent-%COMP%]{padding:3.2rem}@media (max-width: 767.98px){.account-statement-option-content[_ngcontent-%COMP%]{padding:.8rem}}.account-statement-option-header[_ngcontent-%COMP%]{cursor:pointer;min-height:10rem}.account-statement-option-header-title[_ngcontent-%COMP%]{color:#2b2d33;font-weight:700;font-size:2rem;display:flex;padding:1.6rem}.account-statement-option-header-title--active[_ngcontent-%COMP%]{font-size:3rem;padding:3.2rem}.account-statement-option-header-description[_ngcontent-%COMP%]{font-size:1.4rem;padding:0 2.4rem 0 4.8rem;position:relative}.account-statement-option-header-description[_ngcontent-%COMP%]:before{content:"\\e97e"}.account-statement-option-header-description[_ngcontent-%COMP%]:before{font-size:2rem;position:absolute;left:2rem;top:50%;transform:translateY(-50%)}.account-statement-option-header-description--active[_ngcontent-%COMP%]{font-size:1.6rem;padding:0 7.2rem}.account-statement-option-header-description--active[_ngcontent-%COMP%]:before{font-size:3rem}.account-statement-option-info[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.4rem;padding-right:2.4rem;color:#55575c}.account-statement-option-info[_ngcontent-%COMP%]:before{content:"\\e97e"}.account-statement-option-info[_ngcontent-%COMP%]:before{padding:0 .8rem 0 2.4rem;font-size:2rem}.account-statement-option-footer-title[_ngcontent-%COMP%]{font-weight:400;font-size:1.5rem;text-transform:uppercase;background-color:#e9eaea;color:#55575c;padding:1.6rem;margin:0}.account-statement-option-footer-actions[_ngcontent-%COMP%]{display:flex;flex:1;overflow:hidden;position:relative}.account-statement-option-footer-actions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:7rem;border:solid #aaabad;border-width:1px 0 0 1px}.account-statement-option-footer-actions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{border-left:none}.account-statement-option-footer-actions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{border-right:1px}@media (max-width: 479.98px){.account-statement-option-footer-actions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}}.account-statement-option-footer-actions--disabled[_ngcontent-%COMP%]{opacity:.5}.account-statement-option-footer-actions--disabled[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:""}.info-icon[_ngcontent-%COMP%]{font-weight:700;padding-right:.8rem;color:#aaabad}.info-icon[_ngcontent-%COMP%]:before{content:"\\e97e"}'],changeDetection:0})}return a})();function Q(a,_){1&a&&(t.TgZ(0,"div",11),t._UZ(1,"span",12)(2,"span",13),t.ALo(3,"translate"),t.qZA()),2&a&&(t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,1,"account_statement__label__debit_on_demand_report_info"),t.oJD))}function H(a,_){if(1&a&&(t._UZ(0,"div",14),t.ALo(1,"translate")),2&a){const n=t.oxw();t.Q6J("innerHTML",t.lcZ(1,1,n.error),t.oJD)}}let N=(()=>{class a extends u{get initStartDate(){return this._initStartDate}get initEndDate(){return this._initEndDate}set selected(n){this._selected=n,this.startDate=void 0,this.endDate=void 0,this.error=""}get selected(){return this._selected}constructor(n){super(n),this._initStartDate=c()().startOf("month"),this._initEndDate=c()().subtract(1,"d"),this.startDateChange=new t.vpe,this.endDateChange=new t.vpe,this.activeTypeChange=new t.vpe,this.today=c()(),this.yesterday=c()().subtract(1,"days"),this.fiveYearsAgo=c()().subtract(5,"years"),this.creditCardMinDate=c()("2009-05-04"),this.AccountStatementTypes=m.rf}getMin(n=!0){if(!n&&this.startDate)return this.startDate.isBefore(this.yesterday)?this.startDate.toDate():this.isSelectedCc?c()().toDate():this.yesterday.toDate();const i=this.getMaxOpeningDate();let e;return e=this.isSelectedCc?this.creditCardMinDate.isBefore(i)?c()(i):this.creditCardMinDate:this.fiveYearsAgo.isBefore(i)?c()(i):this.fiveYearsAgo,e.toDate()}getMax(n=!0){return n&&this.endDate?this.yesterday.isBefore(this.endDate)?this.isSelectedCc?c()().toDate():this.yesterday.toDate():this.endDate.toDate():this.isSelectedCc?c()().toDate():this.yesterday.toDate()}getMaxOpeningDate(){return this.selected.reduce((n,i)=>i&&n&&n>(i.openingDate?i.openingDate:"")?i.openingDate:n,c()().format("YYYY-MM-DD")||void 0)||""}isDownloadsDisabled(){return!this.startDate||!this.endDate||""!==this.error}changeType(n){if(this.error="",n===m.rf.INTRADAY)this.activeType!==m.rf.INTRADAY?(this.startDate=this.today,this.endDate=this.today,this.activeType=n):(this.activeType=m.rf.INDIVIDUAL,this.startDate=this.initStartDate,this.endDate=this.initEndDate);else if(this.activeType=n,void 0!==this.startDate&&void 0!==this.endDate){const i=this.endDate.diff(this.startDate,"days");this.error=n===m.rf.CUMULATIVE&&this.selected.length>1&&i>31?"account_statement__label__cumulative__error":i>380&&!this.isSelectedCc?"account_statement__label__individual__error":""}}changeDate(n,i=!0){if(!n)return;const e=c()(n);i?(this.startDate=e,this.activeType===m.rf.INTRADAY&&(this.endDate=void 0),this.endDate&&(this.error=this.selected.length>1&&this.activeType===m.rf.CUMULATIVE&&!this.isTmOrLnSelected?c()(this.endDate).subtract("31","days").isAfter(this.startDate,"days")?"account_statement__label__cumulative__error":"":c()(this.endDate).subtract("380","days").isAfter(this.startDate,"days")&&!this.isSelectedCc?"account_statement__label__individual__error":"")):(this.endDate=e,this.activeType===m.rf.INTRADAY&&(this.startDate=void 0),this.startDate&&(this.error=this.selected.length>1&&this.activeType===m.rf.CUMULATIVE&&!this.isTmOrLnSelected?c()(this.startDate).add("31","days").isBefore(this.endDate,"days")?"account_statement__label__cumulative__error":"":c()(this.startDate).add("380","days").isBefore(this.endDate,"days")&&!this.isSelectedCc?"account_statement__label__individual__error":"")),this.activeType===m.rf.INTRADAY&&(this.activeType=m.rf.INDIVIDUAL)}getDate(n=!0){if(n){if(this.startDate)return this.startDate.toDate()}else if(this.endDate)return this.endDate.toDate()}downloadBtnClick(n){this.isDownloadsDisabled()||(this.startDateChange.emit(this.startDate),this.endDateChange.emit(this.endDate),this.activeTypeChange.emit(this.activeType),n.emit())}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(r.S))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["ui-rzbr-account-statement-option-on-demand"]],inputs:{startDate:"startDate",endDate:"endDate",activeType:"activeType",selected:"selected"},outputs:{startDateChange:"startDateChange",endDateChange:"endDateChange",activeTypeChange:"activeTypeChange"},features:[t.qOj],decls:16,vars:30,consts:[[3,"active","description","disabled","title","disabledDownloads","isTmOrLnSelected","isSelectedCc","clicked","pdfClicked","xlsClicked"],[1,"content"],["class","content-info",4,"ngIf"],[1,"content-today",3,"hidden"],[1,"content-today-toggle",3,"checked","checkedChange"],[1,"content-today-label",3,"innerHTML"],[1,"content-dates"],[1,"content-dates-start"],[3,"readonly","date","maxDate","minDate","label","valueChange"],[1,"content-dates-end"],["class","content-error",3,"innerHTML",4,"ngIf"],[1,"content-info"],[1,"info-icon"],[3,"innerHTML"],[1,"content-error",3,"innerHTML"]],template:function(i,e){1&i&&(t.TgZ(0,"ui-rzbr-account-statement-option-default",0),t.NdJ("clicked",function(){return e.emitItemClick()})("pdfClicked",function(){return e.downloadBtnClick(e.pdfClicked)})("xlsClicked",function(){return e.downloadBtnClick(e.xlsClicked)}),t.TgZ(1,"div",1),t.YNc(2,Q,4,3,"div",2),t.ALo(3,"async"),t.TgZ(4,"div",3)(5,"ui-rzbr-toggle",4),t.NdJ("checkedChange",function(){return e.changeType(e.AccountStatementTypes.INTRADAY)}),t.qZA(),t._UZ(6,"label",5),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",6)(9,"div",7)(10,"ui-rzbr-datepicker",8),t.NdJ("valueChange",function(h){return e.changeDate(h)}),t.ALo(11,"translate"),t.qZA()(),t.TgZ(12,"div",9)(13,"ui-rzbr-datepicker",8),t.NdJ("valueChange",function(h){return e.changeDate(h,!1)}),t.ALo(14,"translate"),t.qZA()()(),t.YNc(15,H,2,3,"div",10),t.qZA()()),2&i&&(t.Q6J("active",e.active)("description",e.description)("disabled",e.disabled)("title",e.title)("disabledDownloads",e.isDownloadsDisabled())("isTmOrLnSelected",e.isTmOrLnSelected)("isSelectedCc",e.isSelectedCc),t.xp6(2),t.Q6J("ngIf",3===t.lcZ(3,22,e.activeTab$)),t.xp6(2),t.Q6J("hidden",e.isTmOrLnSelected||e.isSelectedCc),t.xp6(1),t.Q6J("checked",e.activeType===e.AccountStatementTypes.INTRADAY),t.xp6(1),t.Q6J("innerHTML",t.lcZ(7,24,"account_statement__today_toggle"),t.oJD),t.xp6(4),t.Q6J("readonly",!0)("date",e.getDate())("maxDate",e.getMax())("minDate",e.getMin())("label",t.lcZ(11,26,"general__labels__from")),t.xp6(3),t.Q6J("readonly",!0)("date",e.getDate(!1))("maxDate",e.getMax(!1))("minDate",e.getMin(!1))("label",t.lcZ(14,28,"general__labels__to")),t.xp6(2),t.Q6J("ngIf",e.error))},dependencies:[o.O5,p.Fmk,d.Q,P,o.Ov,g.X$],styles:['h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:5rem}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:3.2rem}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:2.8rem}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:2.4rem}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:2rem}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:1.6rem}.info-icon[_ngcontent-%COMP%]:before, [class^=icon-][_ngcontent-%COMP%]:before, [class*=" icon-"][_ngcontent-%COMP%]:before{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.content-info[_ngcontent-%COMP%]{padding-bottom:1.6rem}.content-today[_ngcontent-%COMP%]{display:flex;align-items:center}.content-today-label[_ngcontent-%COMP%]{padding-left:.8rem;margin:0}.content-dates[_ngcontent-%COMP%]{padding:1.6rem 0;margin:0 -.8rem;display:flex}@media (max-width: 991.98px){.content-dates[_ngcontent-%COMP%]{flex-direction:column}}.content-dates-label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.8rem;color:#aaabad;font-size:1.6rem}.content-dates[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:0 .8rem;flex:1}@media (max-width: 991.98px){.content-dates[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.8rem;flex:auto}}.content-types[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-types[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{padding:1.6rem 0}.content-types-label[_ngcontent-%COMP%]{padding-top:.5rem;padding-left:.8rem;margin:0}.content-types--invisible[_ngcontent-%COMP%]{position:relative}.content-types--invisible[_ngcontent-%COMP%]:after{position:absolute;width:100%;height:100%;content:"";background-color:#fff;top:0;left:0}.content-error[_ngcontent-%COMP%]{font-size:1.6rem;color:#e61e33;padding-bottom:1.6rem}.info-icon[_ngcontent-%COMP%]{font-weight:700;padding-right:.8rem;color:#aaabad}.info-icon[_ngcontent-%COMP%]:before{content:"\\e97e"}'],changeDetection:0})}return a})();function R(a,_){1&a&&t.GkF(0)}function Y(a,_){if(1&a){const n=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"ui-rzbr-checkbox",13),t.NdJ("itemClick",function(){const s=t.CHM(n).$implicit,h=t.oxw();return t.KtG(h.toggleSelected(s))}),t.qZA()(),t.TgZ(4,"div",14),t._UZ(5,"div",15),t.ALo(6,"async"),t.ALo(7,"dateLongFormat"),t._UZ(8,"div",16),t.ALo(9,"translate"),t.qZA()()()}if(2&a){const n=_.$implicit,i=t.oxw();t.xp6(3),t.Q6J("checked",i.checkSelected(n)),t.xp6(2),t.Q6J("innerHTML",t.lcZ(6,3,t.lcZ(7,5,n)),t.oJD),t.xp6(3),t.Q6J("innerHTML",t.lcZ(9,7,"account_statement__label__debit_list_report"),t.oJD)}}function E(a,_){1&a&&t.GkF(0)}function U(a,_){if(1&a&&(t.ynx(0),t.YNc(1,E,1,0,"ng-container",2),t.BQk()),2&a){t.oxw();const n=t.MAs(12);t.xp6(1),t.Q6J("ngTemplateOutlet",n)}}function B(a,_){if(1&a){const n=t.EpF();t.TgZ(0,"div",17)(1,"button",18),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.downloadActivityFiles())}),t._UZ(2,"span",19),t.ALo(3,"translate"),t.ALo(4,"translate"),t._UZ(5,"ui-rzbr-icon",20),t.qZA()()}if(2&a){const n=t.oxw();t.xp6(1),t.Q6J("disabled",0===n.totalFiles)("type","secondary"),t.xp6(1),t.Q6J("innerHtml",t.lcZ(3,4,"async__download")+" "+n.totalFiles+" "+t.lcZ(4,6,"account_statement__label__simple_multiple"),t.oJD),t.xp6(3),t.Q6J("name",n.iconName.DOWNLOAD)}}let K=(()=>{class a extends T.O{constructor(n){super(),this.accountStatementsFacade=n,this.iconName=p.uHH,this.availableStatements$=this.accountStatementsFacade.activityReportList$,this.isToggleAll=!1}get totalFiles(){return this.selectedStatements.reduce((n,i)=>n+1,0)}get showSecondDownloadBtn(){return!(this.selectedStatements.length<2)&&this.selectedStatements.length>5}toggleAll(){this.isToggleAll=!this.isToggleAll,this.selectedStatements=this.isToggleAll?[...this.availableStatements]:[]}toggleSelected(n){this.selectedStatements.find(e=>e===n)?this.selectedStatements=this.selectedStatements.filter(e=>e!==n):this.selectedStatements.push(n),this.isToggleAll=this.selectedStatements.length===this.availableStatements.length}checkSelected(n){return!!this.selectedStatements.find(i=>i===n)}trackByFunction(n,i){return i.accountId}downloadActivityFiles(){this.accountStatementsFacade.selectedActivitiesList([...this.selectedStatements])}ngOnInit(){this.registerSubscriptions(this.availableStatements$.pipe((0,y.M)(this.accountStatementsFacade.activityReportList$)).subscribe(([n,i])=>{this.selectedStatements=[...this.availableStatements],this.isToggleAll=!0}))}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(r.S))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["ui-rzbr-account-statement-files"]],inputs:{selectedAccounts:"selectedAccounts",availableStatements:"availableStatements"},features:[t.qOj],decls:13,vars:11,consts:[[1,"account-statement-files"],[1,"page-title",3,"innerHTML"],[4,"ngTemplateOutlet"],[1,"account-statement-files-toggle"],[1,"account-statement-files-toggleCheckbox",3,"checked","itemClick"],[1,"account-statement-files-toggleInfo",3,"innerHTML"],[1,"account-statement-files-list"],["class","account-statement-files-listItem",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["downloadBtn",""],[1,"account-statement-files-listItem"],[1,"group-list-item"],[1,"group-list-itemCheckbox"],[3,"checked","itemClick"],[1,"group-list-itemDetail"],[1,"group-list-itemTitle",3,"innerHTML"],[1,"group-list-itemInfo",3,"innerHTML"],[1,"account-statement-files-btn"],["uiRzbrButton","",3,"disabled","type","click"],[3,"innerHtml"],[3,"name"]],template:function(i,e){if(1&i&&(t.TgZ(0,"div",0),t._UZ(1,"h1",1),t.ALo(2,"translate"),t.YNc(3,R,1,0,"ng-container",2),t.TgZ(4,"div",3)(5,"ui-rzbr-checkbox",4),t.NdJ("itemClick",function(){return e.toggleAll()}),t.qZA(),t._UZ(6,"span",5),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",6),t.YNc(9,Y,10,9,"div",7),t.qZA(),t.YNc(10,U,2,1,"ng-container",8),t.qZA(),t.YNc(11,B,6,8,"ng-template",null,9,t.W1O)),2&i){const s=t.MAs(12);t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,7,"account_statement__label__debit_activity_report_list"),t.oJD),t.xp6(2),t.Q6J("ngTemplateOutlet",s),t.xp6(2),t.Q6J("checked",e.isToggleAll),t.xp6(1),t.Q6J("innerHTML",t.lcZ(7,9,"account_statement__label__activity_report_select_all"),t.oJD),t.xp6(3),t.Q6J("ngForOf",e.availableStatements)("ngForTrackBy",e.trackByFunction),t.xp6(1),t.Q6J("ngIf",e.showSecondDownloadBtn)}},dependencies:[o.sg,o.O5,o.tP,p.WtY,p.NjR,p._kN,o.Ov,g.X$,p.eJn],styles:['h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:5rem}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:3.2rem}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:2.8rem}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:2.4rem}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:2rem}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:1.6rem}[class^=icon-][_ngcontent-%COMP%]:before, [class*=" icon-"][_ngcontent-%COMP%]:before{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.account-statement-files[_ngcontent-%COMP%]{padding-top:2.4rem}.account-statement-files-btn[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:1.6rem}.account-statement-files-btn[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;max-width:26rem}@media (max-width: 767.98px){.account-statement-files-btn[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%}}.account-statement-files-list[_ngcontent-%COMP%]{margin:1.6rem 0}.account-statement-files-listItem[_ngcontent-%COMP%]{max-height:39rem;border-bottom:1px solid #e9eaea}.account-statement-files-listItem[_ngcontent-%COMP%]:hover{background-color:#f8f8f8}.account-statement-files-listItem[_ngcontent-%COMP%]:last-child{border-bottom:none}.account-statement-files-listItem-noFiles[_ngcontent-%COMP%]{text-align:center;margin:0}.account-statement-files-toggle[_ngcontent-%COMP%]{display:flex;width:100%;padding:1.6rem}.account-statement-files-toggleCheckbox[_ngcontent-%COMP%]{width:7%;display:flex;align-items:center}@media (max-width: 767.98px){.account-statement-files-toggleCheckbox[_ngcontent-%COMP%]{width:15%}}.group-list-item[_ngcontent-%COMP%]{display:flex;width:100%;padding:1.6rem}.group-list-itemCheckbox[_ngcontent-%COMP%]{width:7%;display:flex;align-items:center}@media (max-width: 767.98px){.group-list-itemCheckbox[_ngcontent-%COMP%]{width:15%}}.group-list-itemTitle[_ngcontent-%COMP%]{font-weight:700}'],changeDetection:0})}return a})();function G(a,_){1&a&&(t.ynx(0,8),t._UZ(1,"span",9)(2,"span",10),t.ALo(3,"translate"),t.BQk()),2&a&&(t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,1,"account_statement__label__debit_list_report_info"),t.oJD))}function V(a,_){if(1&a&&(t._UZ(0,"div",11),t.ALo(1,"translate")),2&a){const n=t.oxw();t.Q6J("innerHTML",t.lcZ(1,1,n.error),t.oJD)}}let q=(()=>{class a extends u{set selected(n){this._selected=n,this.startDate=void 0,this.endDate=void 0,this.error=""}get selected(){return this._selected}constructor(n){super(n),this.startDateChange=new t.vpe,this.endDateChange=new t.vpe,this.activeTypeChange=new t.vpe,this.resetActivityReportList=new t.vpe,this.today=c()(),this.yesterday=c()().subtract(1,"days"),this.fiveYearsAgo=c()().subtract(5,"years"),this.creditCardMinDate=c()("2009-05-04"),this.AccountStatementTypes=m.rf}getMin(n=!0){if(!n&&this.startDate)return this.startDate.isBefore(this.yesterday)?this.startDate.toDate():this.isSelectedCc?c()().toDate():this.yesterday.toDate();const i=this.getMaxOpeningDate();let e;return e=this.isSelectedCc?this.creditCardMinDate.isBefore(i)?c()(i):this.creditCardMinDate:this.fiveYearsAgo.isBefore(i)?c()(i):this.fiveYearsAgo,e.toDate()}getMax(n=!0){return n&&this.endDate?this.yesterday.isBefore(this.endDate)?this.isSelectedCc?c()().toDate():this.yesterday.toDate():this.endDate.toDate():this.isSelectedCc?c()().toDate():this.yesterday.toDate()}getMaxOpeningDate(){return this.selected.reduce((n,i)=>i&&n&&n>(i.openingDate?i.openingDate:"")?i.openingDate:n,c()().format("YYYY-MM-DD")||void 0)||""}isDownloadsDisabled(){return!this.startDate||!this.endDate||""!==this.error}changeDate(n,i=!0){if(!n)return;const e=c()(n);this.resetActivityReportList.emit(),i?(this.startDate=e,this.activeType===m.rf.INTRADAY&&(this.endDate=void 0),this.endDate&&(this.error=this.selected.length>1&&this.activeType===m.rf.CUMULATIVE&&!this.isTmOrLnSelected?c()(this.endDate).subtract("31","days").isAfter(this.startDate,"days")?"account_statement__label__cumulative__error":"":c()(this.endDate).subtract("380","days").isAfter(this.startDate,"days")&&!this.isSelectedCc?"account_statement__label__individual__error":"")):(this.endDate=e,this.activeType===m.rf.INTRADAY&&(this.startDate=void 0),this.startDate&&(this.error=this.selected.length>1&&this.activeType===m.rf.CUMULATIVE&&!this.isTmOrLnSelected?c()(this.startDate).add("31","days").isBefore(this.endDate,"days")?"account_statement__label__cumulative__error":"":c()(this.startDate).add("380","days").isBefore(this.endDate,"days")&&!this.isSelectedCc?"account_statement__label__individual__error":"")),this.activeType===m.rf.INTRADAY&&(this.activeType=m.rf.INDIVIDUAL)}getDate(n=!0){if(n){if(this.startDate)return this.startDate.toDate()}else if(this.endDate)return this.endDate.toDate()}downloadBtnClick(n){this.isDownloadsDisabled()||(this.startDateChange.emit(this.startDate),this.endDateChange.emit(this.endDate),this.activeTypeChange.emit(this.activeType),n.emit())}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(r.S))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["ui-rzbr-account-statement-option-activity"]],inputs:{startDate:"startDate",endDate:"endDate",activeType:"activeType",selected:"selected"},outputs:{startDateChange:"startDateChange",endDateChange:"endDateChange",activeTypeChange:"activeTypeChange",resetActivityReportList:"resetActivityReportList"},features:[t.qOj],decls:12,vars:25,consts:[[3,"active","description","disabled","title","disabledDownloads","isTmOrLnSelected","isSelectedCc","clicked","pdfClicked","xlsClicked"],[1,"content"],["class","content-info",4,"ngIf"],[1,"content-dates"],[1,"content-dates-start"],[3,"readonly","date","maxDate","minDate","label","valueChange"],[1,"content-dates-end"],["class","content-error",3,"innerHTML",4,"ngIf"],[1,"content-info"],[1,"info-icon"],[3,"innerHTML"],[1,"content-error",3,"innerHTML"]],template:function(i,e){1&i&&(t.TgZ(0,"ui-rzbr-account-statement-option-default",0),t.NdJ("clicked",function(){return e.emitItemClick()})("pdfClicked",function(){return e.downloadBtnClick(e.pdfClicked)})("xlsClicked",function(){return e.downloadBtnClick(e.xlsClicked)}),t.TgZ(1,"div",1),t.YNc(2,G,4,3,"ng-container",2),t.ALo(3,"async"),t.TgZ(4,"div",3)(5,"div",4)(6,"ui-rzbr-datepicker",5),t.NdJ("valueChange",function(h){return e.changeDate(h)}),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"div",6)(9,"ui-rzbr-datepicker",5),t.NdJ("valueChange",function(h){return e.changeDate(h,!1)}),t.ALo(10,"translate"),t.qZA()()(),t.YNc(11,V,2,3,"div",7),t.qZA()()),2&i&&(t.Q6J("active",e.active)("description",e.description)("disabled",e.disabled)("title",e.title)("disabledDownloads",e.isDownloadsDisabled())("isTmOrLnSelected",e.isTmOrLnSelected)("isSelectedCc",e.isSelectedCc),t.xp6(2),t.Q6J("ngIf",2===t.lcZ(3,19,e.activeTab$)),t.xp6(4),t.Q6J("readonly",!0)("date",e.getDate())("maxDate",e.getMax())("minDate",e.getMin())("label",t.lcZ(7,21,"general__labels__from")),t.xp6(3),t.Q6J("readonly",!0)("date",e.getDate(!1))("maxDate",e.getMax(!1))("minDate",e.getMin(!1))("label",t.lcZ(10,23,"general__labels__to")),t.xp6(2),t.Q6J("ngIf",e.error))},dependencies:[o.O5,d.Q,P,o.Ov,g.X$],styles:['h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:5rem}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:3.2rem}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:2.8rem}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:2.4rem}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:2rem}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:1.6rem}.info-icon[_ngcontent-%COMP%]:before, [class^=icon-][_ngcontent-%COMP%]:before, [class*=" icon-"][_ngcontent-%COMP%]:before{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.content-info[_ngcontent-%COMP%]{padding-bottom:1.6rem}.content-today[_ngcontent-%COMP%]{display:flex;align-items:center}.content-today-label[_ngcontent-%COMP%]{padding-left:.8rem;margin:0}.content-dates[_ngcontent-%COMP%]{padding:1.6rem 0;margin:0 -.8rem;display:flex}@media (max-width: 991.98px){.content-dates[_ngcontent-%COMP%]{flex-direction:column}}.content-dates-label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.8rem;color:#aaabad;font-size:1.6rem}.content-dates[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:0 .8rem;flex:1}@media (max-width: 991.98px){.content-dates[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.8rem;flex:auto}}.content-types[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-types[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{padding:1.6rem 0}.content-types-label[_ngcontent-%COMP%]{padding-top:.5rem;padding-left:.8rem;margin:0}.content-types--invisible[_ngcontent-%COMP%]{position:relative}.content-types--invisible[_ngcontent-%COMP%]:after{position:absolute;width:100%;height:100%;content:"";background-color:#fff;top:0;left:0}.content-error[_ngcontent-%COMP%]{font-size:1.6rem;color:#e61e33;padding-bottom:1.6rem}.info-icon[_ngcontent-%COMP%]{font-weight:700;padding-right:.8rem;color:#aaabad}.info-icon[_ngcontent-%COMP%]:before{content:"\\e97e"}'],changeDetection:0})}return a})();function X(a,_){1&a&&(t._UZ(0,"p",13),t.ALo(1,"translate")),2&a&&t.Q6J("innerHTML",t.lcZ(1,1,"account_statement__labels__select_one"),t.oJD)}const L=function(a,_){return{"account-statement-listItem--active":a,"account-statement-listItem--disabled":_}},W=function(a){return{param1:a}};function j(a,_){if(1&a){const n=t.EpF();t.TgZ(0,"div",8),t.NdJ("click",function(){t.CHM(n);const e=t.oxw(2).$implicit,s=t.oxw();return t.KtG(0===e.length&&s.changeShowMustSelectError(!0))}),t.TgZ(1,"ui-rzbr-account-statement-option-default",12),t.NdJ("clicked",function(){t.CHM(n);const e=t.oxw(3);return t.KtG(e.changeTab(1))})("clickedOnDisable",function(){t.CHM(n);const e=t.oxw(3);return t.KtG(e.showPopUp())})("pdfClicked",function(){t.CHM(n);const e=t.oxw(3);return t.KtG(e.downloadFile("PDF"))})("xlsClicked",function(){t.CHM(n);const e=t.oxw(3);return t.KtG(e.downloadFile("XLSX"))}),t.ALo(2,"translate"),t.ALo(3,"translate"),t.ALo(4,"async"),t.ALo(5,"async"),t.ALo(6,"dateLongFormat"),t.ALo(7,"async"),t.ALo(8,"async"),t.ALo(9,"async"),t.ALo(10,"async"),t.qZA(),t.YNc(11,X,2,3,"p",10),t.ALo(12,"async"),t.qZA()}if(2&a){const n=t.oxw().$implicit,i=t.oxw().$implicit,e=t.oxw();t.Q6J("ngClass",t.WLB(29,L,1===n,0===i.length)),t.xp6(1),t.Q6J("title",t.lcZ(2,8,"account_statement__label__debit_last_report"))("active",1===n)("description",t.xi3(3,10,"general__activity_report__last_static",t.VKq(32,W,t.lcZ(4,13,e.lastActivityReportStatementDate$)?t.lcZ(5,15,t.lcZ(6,17,t.lcZ(7,19,e.lastActivityReportStatementDate$))):"")))("disabled",t.lcZ(8,21,e.statementLoading$))("isSelectedCc",t.lcZ(9,23,e.isSelectedCc$))("lastActivityReportDate",t.lcZ(10,25,e.lastActivityReportStatementDate$)),t.xp6(10),t.Q6J("ngIf",0===i.length&&t.lcZ(12,27,e.showErrorMessage$))}}function tt(a,_){1&a&&(t._UZ(0,"p",13),t.ALo(1,"translate")),2&a&&t.Q6J("innerHTML",t.lcZ(1,1,"account_statement__labels__select_one"),t.oJD)}function et(a,_){if(1&a){const n=t.EpF();t.TgZ(0,"div",8),t.NdJ("click",function(){t.CHM(n);const e=t.oxw(2).$implicit,s=t.oxw();return t.KtG(0===e.length&&s.changeShowMustSelectError(!0))}),t.TgZ(1,"ui-rzbr-account-statement-option-activity",14),t.NdJ("clicked",function(){t.CHM(n);const e=t.oxw(3);return t.KtG(e.changeTab(2))})("pdfClicked",function(){t.CHM(n);const e=t.oxw(3);return t.KtG(e.getActivityReport("PDF"))})("xlsClicked",function(){t.CHM(n);const e=t.oxw(3);return t.KtG(e.getActivityReport("XLSX"))})("resetActivityReportList",function(){t.CHM(n);const e=t.oxw(3);return t.KtG(e.resetActivityReportList())})("startDateChange",function(e){t.CHM(n);const s=t.oxw(3);return t.KtG(s.changeDate(e))})("endDateChange",function(e){t.CHM(n);const s=t.oxw(3);return t.KtG(s.changeDate(e,!1))})("activeTypeChange",function(e){t.CHM(n);const s=t.oxw(3);return t.KtG(s.changeActiveType(e))}),t.ALo(2,"translate"),t.ALo(3,"translate"),t.ALo(4,"async"),t.ALo(5,"async"),t.ALo(6,"async"),t.ALo(7,"async"),t.ALo(8,"async"),t.ALo(9,"async"),t.qZA(),t.YNc(10,tt,2,3,"p",10),t.ALo(11,"async"),t.qZA()}if(2&a){const n=t.oxw().$implicit,i=t.oxw().$implicit,e=t.oxw();t.Q6J("ngClass",t.WLB(30,L,2===n,0===i.length)),t.xp6(1),t.Q6J("title",t.lcZ(2,12,"account_statement__label__debit_list_report"))("active",2===n)("description",t.lcZ(3,14,"general__activity_report__on_demand_static"))("disabled",t.lcZ(4,16,e.statementLoading$))("selected",i)("startDate",t.lcZ(5,18,e.startDate$))("endDate",t.lcZ(6,20,e.endDate$))("activeType",t.lcZ(7,22,e.activeType$))("isTmOrLnSelected",t.lcZ(8,24,e.isTmOrLnSelected$))("isSelectedCc",t.lcZ(9,26,e.isSelectedCc$)),t.xp6(9),t.Q6J("ngIf",0===i.length&&t.lcZ(11,28,e.showErrorMessage$))}}function nt(a,_){1&a&&(t._UZ(0,"p",13),t.ALo(1,"translate")),2&a&&t.Q6J("innerHTML",t.lcZ(1,1,"account_statement__labels__select_one"),t.oJD)}function it(a,_){1&a&&(t._UZ(0,"ui-rzbr-no-info",15),t.ALo(1,"translate")),2&a&&t.Q6J("message",t.lcZ(1,1,"account_statement__no_activity_reports"))}function at(a,_){if(1&a){const n=t.EpF();t.TgZ(0,"div",6),t.YNc(1,j,13,34,"div",7),t.ALo(2,"async"),t.YNc(3,et,12,33,"div",7),t.ALo(4,"async"),t.TgZ(5,"div",8),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,s=t.oxw();return t.KtG(0===e.length&&s.changeShowMustSelectError(!0))}),t.TgZ(6,"ui-rzbr-account-statement-option-on-demand",9),t.NdJ("clicked",function(){t.CHM(n);const e=t.oxw(2);return t.KtG(e.changeTab(3))})("pdfClicked",function(){t.CHM(n);const e=t.oxw(2);return t.KtG(e.downloadFilesOnRequesting("PDF"))})("xlsClicked",function(){t.CHM(n);const e=t.oxw(2);return t.KtG(e.downloadFilesOnRequesting("XLSX"))})("startDateChange",function(e){t.CHM(n);const s=t.oxw(2);return t.KtG(s.changeDate(e))})("endDateChange",function(e){t.CHM(n);const s=t.oxw(2);return t.KtG(s.changeDate(e,!1))})("activeTypeChange",function(e){t.CHM(n);const s=t.oxw(2);return t.KtG(s.changeActiveType(e))}),t.ALo(7,"translate"),t.ALo(8,"translate"),t.ALo(9,"async"),t.ALo(10,"async"),t.ALo(11,"async"),t.ALo(12,"async"),t.ALo(13,"async"),t.ALo(14,"async"),t.qZA(),t.YNc(15,nt,2,3,"p",10),t.ALo(16,"async"),t.ALo(17,"async"),t.YNc(18,it,2,3,"ui-rzbr-no-info",11),t.ALo(19,"async"),t.qZA()()}if(2&a){const n=_.$implicit,i=t.oxw().$implicit,e=t.oxw();t.xp6(1),t.Q6J("ngIf",!t.lcZ(2,15,e.isTmOrLnSelected$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(4,17,e.isTmOrLnSelected$)),t.xp6(2),t.Q6J("ngClass",t.WLB(41,L,3===n,0===i.length)),t.xp6(1),t.Q6J("title",t.lcZ(7,19,"account_statement__label__debit_on_demand_report"))("active",3===n)("description",t.lcZ(8,21,"general__activity_report__on_demand_static"))("disabled",t.lcZ(9,23,e.statementLoading$))("selected",i)("startDate",t.lcZ(10,25,e.startDate$))("endDate",t.lcZ(11,27,e.endDate$))("activeType",t.lcZ(12,29,e.activeType$))("isTmOrLnSelected",t.lcZ(13,31,e.isTmOrLnSelected$))("isSelectedCc",t.lcZ(14,33,e.isSelectedCc$)),t.xp6(9),t.Q6J("ngIf",t.lcZ(16,35,e.isTmOrLnSelected$)&&0===i.length&&t.lcZ(17,37,e.showErrorMessage$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(19,39,e.noActivityReports$))}}function ot(a,_){if(1&a&&t._UZ(0,"ui-rzbr-account-statement-files",17),2&a){const n=t.oxw().$implicit,i=t.oxw().$implicit;t.Q6J("availableStatements",n)("selectedAccounts",i)}}function ct(a,_){if(1&a&&(t.ynx(0),t.YNc(1,ot,1,2,"ui-rzbr-account-statement-files",16),t.BQk()),2&a){const n=_.$implicit;t.xp6(1),t.Q6J("ngIf",n.length>1)}}function st(a,_){if(1&a&&(t.TgZ(0,"div",2),t._UZ(1,"h1",3),t.ALo(2,"translate"),t.YNc(3,at,20,44,"div",4),t.ALo(4,"async"),t.YNc(5,ct,2,1,"ng-container",5),t.ALo(6,"async"),t.qZA()),2&a){const n=t.oxw();t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,3,"navigation__labels__account_statements__le"),t.oJD),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,5,n.activeTab$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,7,n.availableStatements$))}}let rt=(()=>{class a extends T.O{constructor(n,i,e,s){super(),this.accountsFacade=n,this.accountStatementsFacade=i,this.modalService=e,this.translateService=s,this.allSelectedAccounts$=this.accountsFacade.allSelectedAccounts$.pipe((0,C.b)(h=>{h.some(k=>k.typeId===A.Q.DEPOSIT||k.typeId===A.Q.LOAN)?(this.accountStatementsFacade.setTmOrLnSelected(!0),this.changeTab(3),this.accountStatementsFacade.setActiveType(m.rf.CUMULATIVE)):(this.changeTab(1),this.accountStatementsFacade.setActiveType(m.rf.INDIVIDUAL)),this.accountStatementsFacade.setShowMustSelectError(!1)})),this.accountLoading$=this.accountsFacade.loading$,this.statementLoading$=this.accountStatementsFacade.loading$,this.activeTab$=this.accountStatementsFacade.activeTab$,this.isTmOrLnSelected$=this.accountStatementsFacade.isTmOrLnSelected$,this.activeType$=this.accountStatementsFacade.activeType$,this.startDate$=this.accountStatementsFacade.startDate$,this.endDate$=this.accountStatementsFacade.endDate$,this.isSelectedCc$=this.accountsFacade.isSelectedAccountCc$,this.selectedAccount$=this.accountsFacade.selectedAccount$,this.lastActivityReport$=this.accountStatementsFacade.lastActivityReport$,this.showErrorMessage$=this.accountStatementsFacade.showMustSelectError$,this.noActivityReports$=this.accountStatementsFacade.noActivityReports$,this.lastActivityReportStatementDate$=this.lastActivityReport$.pipe((0,v.U)(h=>h.statementDate)),this.availableStatements$=this.accountStatementsFacade.activityReportList$,this.isSelectedCc=!1}ngOnInit(){this.registerSubscriptions(this.isSelectedCc$.pipe((0,y.M)(this.selectedAccount$),(0,v.U)(([n,i])=>{if(n){const e={accountKey:"",startDate:c()(),endDate:c()()},s=c()().subtract(90,"days");return this.isSelectedCc=n,i&&(this.accountKey=i.accountKey,e.accountKey=i.accountKey),i&&i.openingDate&&(e.startDate=c()(i.openingDate).isSameOrAfter(s,"day")?c()(i.openingDate):s),e}return null})).subscribe(n=>{n&&this.accountStatementsFacade.getLastActivityReport(n)}),this.lastActivityReport$.subscribe(n=>this.fileId=n.fileId)),this.accountStatementsFacade.resetAccountStatement()}getActivityReport(n){this.accountStatementsFacade.getActivityReportList({fileFormat:n,onRequest:!0})}downloadFilesOnRequesting(n){this.accountStatementsFacade.downloadAccountStatement({fileFormat:n,onRequest:!0})}downloadFile(n){this.accountStatementsFacade.downloadAccountStatement({fileFormat:n,onRequest:!1})}changeTab(n){this.accountStatementsFacade.resetAccountStatement(),this.accountStatementsFacade.setActiveTab(n)}changeActiveType(n){this.accountStatementsFacade.setActiveType(n)}changeDate(n,i=!0){i?this.accountStatementsFacade.setStarDate(n):this.accountStatementsFacade.setEndDate(n)}changeShowMustSelectError(n){this.accountStatementsFacade.setShowMustSelectError(n)}showPopUp(){this.modalService.open(this.translateService.instant("general__actions__account_statement_default_disabled_tab"),this.translateService.instant("general__actions__ok"),!0).subscribe().unsubscribe()}resetActivityReportList(){this.accountStatementsFacade.resetActivityReportList()}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(D.q),t.Y36(r.S),t.Y36(p.n$B),t.Y36(g.sK))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["ui-rzbr-account-statement"]],features:[t.qOj],decls:5,vars:8,consts:[[3,"showLoader"],["class","account-statement",4,"ngIf"],[1,"account-statement"],[1,"page-title",3,"innerHTML"],["class","account-statement-list",4,"ngIf"],[4,"ngIf"],[1,"account-statement-list"],["class","account-statement-listItem",3,"ngClass","click",4,"ngIf"],[1,"account-statement-listItem",3,"ngClass","click"],[3,"title","active","description","disabled","selected","startDate","endDate","activeType","isTmOrLnSelected","isSelectedCc","clicked","pdfClicked","xlsClicked","startDateChange","endDateChange","activeTypeChange"],["class","account-statement-error",3,"innerHTML",4,"ngIf"],[3,"message",4,"ngIf"],[3,"title","active","description","disabled","isSelectedCc","lastActivityReportDate","clicked","clickedOnDisable","pdfClicked","xlsClicked"],[1,"account-statement-error",3,"innerHTML"],[3,"title","active","description","disabled","selected","startDate","endDate","activeType","isTmOrLnSelected","isSelectedCc","clicked","pdfClicked","xlsClicked","resetActivityReportList","startDateChange","endDateChange","activeTypeChange"],[3,"message"],[3,"availableStatements","selectedAccounts",4,"ngIf"],[3,"availableStatements","selectedAccounts"]],template:function(i,e){1&i&&(t._UZ(0,"ui-rzbr-preloader",0),t.ALo(1,"async"),t.ALo(2,"async"),t.YNc(3,st,7,9,"div",1),t.ALo(4,"async")),2&i&&(t.Q6J("showLoader",t.lcZ(1,2,e.accountLoading$)||t.lcZ(2,4,e.statementLoading$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(4,6,e.allSelectedAccounts$)))},dependencies:[o.mk,o.O5,p.lDN,p.qbt,N,P,K,q,o.Ov,g.X$,p.eJn],styles:['h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:5rem}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:3.2rem}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:2.8rem}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:2.4rem}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:2rem}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:1.6rem}[class^=icon-][_ngcontent-%COMP%]:before, [class*=" icon-"][_ngcontent-%COMP%]:before{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.account-statement[_ngcontent-%COMP%]{position:relative}.account-statement-list[_ngcontent-%COMP%]{padding-top:1.6rem;width:100%;display:flex;justify-content:space-between}@media (max-width: 767.98px){.account-statement-list[_ngcontent-%COMP%]{flex-direction:column}}.account-statement-listItem[_ngcontent-%COMP%]{width:25%;margin:.8rem;vertical-align:top;transition-duration:.1s}.account-statement-listItem[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{opacity:.5;display:block}@media (max-width: 767.98px){.account-statement-listItem[_ngcontent-%COMP%]:last-of-type{padding-left:0}}@media (max-width: 767.98px){.account-statement-listItem[_ngcontent-%COMP%]{width:100%;padding-right:0;padding-bottom:1.6rem}}.account-statement-listItem--active[_ngcontent-%COMP%]{width:50%;transition-duration:.5s}.account-statement-listItem--active[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{opacity:1}@media (max-width: 767.98px){.account-statement-listItem--active[_ngcontent-%COMP%]{width:100%}}.account-statement-listItem--disabled[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{opacity:.5}.account-statement-listItem--disabled[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:""}.account-statement-error[_ngcontent-%COMP%]{color:#e61e33;font-size:1.2rem;margin:0;padding-top:.8rem}@media (max-width: 767.98px){.account-statement-error[_ngcontent-%COMP%]{padding-top:1.6rem}}'],changeDetection:0})}return a})();var lt=l(77643);const dt=[{path:"",component:rt}];let _t=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[o.ez,g.aw,S.Bz.forChild(dt),p.$oD,O.Z,p.BTc,p.dvI,p.vox,p._$z,lt.y,p.QYi,p.eVA,p.Dgd]})}return a})()},31355:(w,b,l)=>{l.d(b,{Q:()=>c});var o=l(94650),S=l(24006),g=l(15439),p=l.n(g),O=l(188),C=l(36895),v=l(36298),y=l(8397);const A=["dp"];function m(t,D){if(1&t&&o._UZ(0,"label",6),2&t){const r=o.oxw();o.Tol(r.labelClass),o.Q6J("innerHTML",r.label,o.oJD),o.uIk("aria-label",r.ariaLabel)}}function T(t,D){if(1&t&&o._UZ(0,"div",7),2&t){const r=o.oxw();o.Q6J("innerHTML",r.errorMsg,o.oJD),o.uIk("aria-label",r.ariaError)}}const x=function(t,D){return{"datepicker-disabled":t,"datepicker--error":D}};let c=(()=>{class t{set date(r){void 0!==this.dp&&(this.dp._bsValue=void 0!==r?r:void 0),this._date=r}get date(){return this._date}constructor(r){this.dynamicLocaleService=r,this.locale$=this.dynamicLocaleService.locale$,this.placeholder="",this.customMessage="",this.prefixMessage="",this.label="",this.labelClass="input-label",this.disabled=!1,this.readonly=!1,this.outputFormat="",this.tooltipMessage="",this.error=!1,this.showError=!1,this.errorMsg="",this.ariaInput="",this.ariaCustomMessage="",this.ariaLabel="",this.ariaError="",this.valueChange=new o.vpe,this.clickOnDisabled=new o.vpe,this.clicked=new o.vpe,this.hidden=new o.vpe,this.shown=new o.vpe,this.bsConfig={adaptivePosition:!0,isAnimated:!0,containerClass:"ui-rzbr-datepicker",customTodayClass:"today",dateInputFormat:this.dynamicLocaleService.dateFormat,showWeekNumbers:!1},this.onChange=()=>{},this.onTouched=()=>{}}click(r){this.disabled?this.clickOnDisabled.emit():"div"===r.tagName.toLowerCase()&&(this.dp.toggle(),this.clicked.emit())}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.disabled=r}writeValue(r){const u=this.outputFormat.length&&r?p()(r).format(this.outputFormat):r;this.onChange(u),this.valueChange.emit(u)}static#t=this.\u0275fac=function(u){return new(u||t)(o.Y36(O.Qmw))};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["ui-rzbr-datepicker"]],viewQuery:function(u,d){if(1&u&&o.Gf(A,5),2&u){let f;o.iGM(f=o.CRH())&&(d.dp=f.first)}},inputs:{placeholder:"placeholder",customMessage:"customMessage",prefixMessage:"prefixMessage",label:"label",labelClass:"labelClass",disabled:"disabled",readonly:"readonly",minDate:"minDate",maxDate:"maxDate",date:"date",outputFormat:"outputFormat",tooltipMessage:"tooltipMessage",error:"error",showError:"showError",errorMsg:"errorMsg",ariaInput:"ariaInput",ariaCustomMessage:"ariaCustomMessage",ariaLabel:"ariaLabel",ariaError:"ariaError"},outputs:{valueChange:"valueChange",clickOnDisabled:"clickOnDisabled",clicked:"clicked",hidden:"hidden",shown:"shown"},features:[o._Bn([{provide:S.JU,useExisting:(0,o.Gpc)(()=>t),multi:!0}])],decls:8,vars:22,consts:[[3,"class","innerHTML",4,"ngIf"],["container","body",1,"datepicker",3,"ngClass","tooltip","click"],["bsDatepicker","",3,"disabled","readonly","placeholder","bsConfig","minDate","maxDate","value","bsValueChange","onHidden","onShown"],["dp","bsDatepicker"],[1,"datepicker-custom-message",3,"innerHTML"],["class","input-error",3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"input-error",3,"innerHTML"]],template:function(u,d){1&u&&(o.YNc(0,m,1,4,"label",0),o.TgZ(1,"div",1),o.NdJ("click",function(M){return d.click(M.target)}),o.TgZ(2,"input",2,3),o.NdJ("bsValueChange",function(M){return d.writeValue(M)})("onHidden",function(){return d.hidden.emit()})("onShown",function(){return d.shown.emit()}),o.ALo(4,"async"),o.ALo(5,"dateLongFormat"),o.qZA(),o._UZ(6,"div",4),o.qZA(),o.YNc(7,T,1,2,"div",5)),2&u&&(o.Q6J("ngIf",d.label),o.xp6(1),o.Q6J("ngClass",o.WLB(19,x,d.disabled,d.error&&d.showError))("tooltip",d.tooltipMessage),o.xp6(1),o.Q6J("disabled",d.disabled)("readonly",d.readonly)("placeholder",d.placeholder)("bsConfig",d.bsConfig)("minDate",d.minDate)("maxDate",d.maxDate)("value",o.lcZ(4,14,o.xi3(5,16,d.date||"",d.prefixMessage))),o.uIk("aria-label",d.ariaInput),o.xp6(4),o.Q6J("innerHTML",d.customMessage,o.oJD),o.uIk("aria-label",d.ariaCustomMessage),o.xp6(1),o.Q6J("ngIf",d.error&&d.showError))},dependencies:[C.mk,C.O5,v.Np,v.Y5,y.i9,C.Ov,O.eJn],styles:['h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:5rem}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:3.2rem}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:2.8rem}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:2.4rem}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:2rem}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:1.6rem}.datepicker[_ngcontent-%COMP%]:before, [class^=icon-][_ngcontent-%COMP%]:before, [class*=" icon-"][_ngcontent-%COMP%]:before{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.datepicker[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:5.8rem;font-size:1.6rem;position:relative;cursor:pointer}.datepicker[_ngcontent-%COMP%]:before{content:"\\e96f"}@media (max-width: 479.98px){.datepicker[_ngcontent-%COMP%]{height:4.8rem;font-size:1.4rem}}.datepicker.disabled[_ngcontent-%COMP%]{cursor:default}.datepicker--error[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:0;width:.4rem;height:100%;background-color:#e61e33;display:block}.datepicker[_ngcontent-%COMP%]:before{position:absolute;right:1.6rem;top:50%;transform:translateY(-50%);font-size:1.8rem;cursor:pointer;color:#aaabad}@media (max-width: 479.98px){.datepicker[_ngcontent-%COMP%]:before{font-size:1.5rem;right:.8rem}}.datepicker[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#fff;border:1px solid #d5d5d6;padding:0 4.8rem 0 1.6rem;cursor:pointer;transition-duration:.3s}.datepicker[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(.disabled):hover{box-shadow:0 7.5px 15px -7.5px #0000004d;border:1px solid #2b2d33;transition-duration:.3s}.datepicker[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{cursor:default;color:#aaabad}@media (max-width: 479.98px){.datepicker[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 3.2rem 0 .8rem}}.datepicker-custom-message[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);right:4.8rem;color:#aaabad}@media (max-width: 479.98px){.datepicker-custom-message[_ngcontent-%COMP%]{font-size:1.4rem}}'],changeDetection:0})}return t})()}}]);