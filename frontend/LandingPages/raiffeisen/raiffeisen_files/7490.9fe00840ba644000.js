"use strict";(self.webpackChunkraiffeisen_pi=self.webpackChunkraiffeisen_pi||[]).push([[7490],{47490:(M,v,i)=>{i.r(v),i.d(v,{PaymentsModule:()=>se});var h=i(36895),l=i(24006),f=i(66159),_=i(89383),n=i(188),L=i(52434),F=i(19613),x=i(36298),T=i(8397),t=(i(94843),i(94650));let w=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#a=this.\u0275inj=t.cJS({imports:[h.ez,x.kn.forRoot(),n.vox,T.z8]})}return e})();var U=i(90453),Q=i(92710);let H=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#a=this.\u0275inj=t.cJS({imports:[h.ez]})}return e})();var tt=i(68934),et=i(7330);i(36363);let B=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#a=this.\u0275inj=t.cJS({imports:[h.ez,_.aw,n.Dgd]})}return e})();var nt=i(75846),Y=i(40556),it=i(304),K=i(42744);let st=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#a=this.\u0275inj=t.cJS({providers:[n.ntP,n.Lj3],imports:[h.ez,l.UX,_.aw,n.Gx9,n._$z,n.dvI,n.wpQ,n.OOx,n.tJG,n.NkL,n.sNz,n.hlj,n.ivq,n.QYi,n.iPq,n.Y_f,n.UA2,L.z,Q.a,n.jgg,n.i3p,F.g,H,n.rLh,U.Z,w,K.o,n.KKX,n.eVA,n.Dgd,n.kyq,n.BqC,Y.f,x.kn,n.bdW,B]})}return e})();var z=i(39646),u=i(39841),d=i(54004),C=i(95577),ot=i(94086),k=i(95698),rt=i(82722),lt=i(39300),S=i(11365),J=i(83009),Z=i(22056),I=i(25109),G=i(15426);let ct=(()=>{class e{constructor(a,s,o,y,b,A){this.paymentsFacade=a,this.sortByKeysPipe=s,this.translateService=o,this.dateLongFormat=y,this.formatAmountPipe=b,this.paymentsComponentService=A,this.paymentsDetails$=this.paymentsComponentService.paymentsDetails$,this.paymentDetailsTitle$=this.paymentsFacade.paymentDetailsTitle$.pipe((0,C.z)(r=>r?this.translateService.get(r):(0,z.of)(""))),this.isNotSameDay$=this.paymentsComponentService.isNotSameDay$,this.paymentsDetailsDateValue$=this.paymentsComponentService.paymentsDetailsDateValue$,this.postFormAmount$=this.paymentsFacade.postFormAmount$,this.postFormCurrency$=this.paymentsFacade.postFormCurrency$,this.postFormRepetitionExpirationDate$=this.paymentsFacade.postFormRepetitionExpirationDate$,this.postFormRepetitionFrequency$=this.paymentsFacade.postFormRepetitionFrequency$,this.postFormRepetitionPeriod$=this.paymentsFacade.postFormRepetitionPeriod$,this.showRepetitivePayment$=this.paymentsFacade.showRepetitivePayment$,this.exchangeRatesFxRateToString$=this.paymentsComponentService.exchangeRatesFxRateToString$,this.exchangeConvertedToString$=this.paymentsComponentService.exchangeConvertedToString$,this.selectFormQuickPayment$=this.paymentsFacade.selectFormQuickPayment$.pipe((0,d.U)(r=>({label:this.translateService.instant("payments__labels__quick_payment"),details:{value:"",ariaValue:"payments__labels__quickpayment"},ariaLabel:"payments_details_recurrent_repeat_at_label",sortKey:"quickPayment",visible:r}))),this.repeatAt$=(0,u.a)([this.postFormRepetitionPeriod$,this.postFormRepetitionFrequency$]).pipe((0,d.U)(([r,m])=>Number(m)>1?`${m} ${this.translateService.instant("D"===r?"payments__labels__recurrent_frequency_day_plural":"payments__labels__recurrent_frequency_month_plural")}`:`${m} ${this.translateService.instant("D"===r?"payments__labels__recurrent_frequency_day":"payments__labels__recurrent_frequency_month")}`)),this.postFormAmountAndCurrency$=(0,u.a)([this.postFormAmount$,this.postFormCurrency$]).pipe((0,d.U)(([r,m])=>{const g=""!==m?this.translateService.instant(m):"";return`${r?this.formatAmountPipe.transform(r):""} ${g}`})),this.paymentsDetailsDateForm$=(0,u.a)([this.paymentsDetailsDateValue$,this.isNotSameDay$]).pipe((0,d.U)(([r,m])=>({label:this.translateService.instant("active_payments__labels__payment_date"),details:{date:r,isFuturePayment:m,futureValue:this.translateService.instant("active_payments__labels__future_transaction"),ariaDate:"payments_details_date_value"},ariaLabel:"payments_details_date_label",sortKey:"date",visible:!0}))),this.paymentsDetailsAmountForm$=(0,u.a)([this.postFormAmountAndCurrency$,this.postFormAmount$,this.exchangeRatesFxRateToString$,this.exchangeConvertedToString$]).pipe((0,d.U)(([r,m,g,D])=>({label:this.translateService.instant("general__labels__amount"),details:{amount:r,rateValue:g,conversionValue:D,ariaAmount:"payments_details_amount_value",ariaRate:"payments_details_exchange_rates_value",ariaConversion:"payments_details_amount_conversion_value"},ariaLabel:"payments_details_amount_label",sortKey:"amount",visible:null!==m}))),this.paymentsDetailsRepeatAtForm$=(0,u.a)([this.showRepetitivePayment$,this.repeatAt$]).pipe((0,d.U)(([r,m])=>({label:this.translateService.instant("payments__labels__recurrent_repeat_at"),details:{value:m,ariaValue:"payments_details_recurrent_repeat_at_value"},ariaLabel:"payments_details_recurrent_repeat_at_label",sortKey:"repeatAt",visible:r}))),this.paymentsDetailsRepetitionDateForm$=(0,u.a)([this.showRepetitivePayment$,this.postFormRepetitionExpirationDate$]).pipe((0,d.U)(([r,m])=>({label:this.translateService.instant("payments__labels__recurrent_expiration_date"),details:{value:this.dateLongFormat.instant(m),ariaValue:"payments_details_recurrent_repeat_expiration_date_value"},ariaLabel:"payments_details_recurrent_repeat_expiration_date_label",sortKey:"dateRepetition",visible:!!m}))),this.paymentsDetailsForm$=(0,u.a)([this.paymentsDetails$,this.paymentsDetailsDateForm$,this.paymentsDetailsAmountForm$,this.paymentsDetailsRepeatAtForm$,this.paymentsDetailsRepetitionDateForm$,this.selectFormQuickPayment$]).pipe((0,d.U)(([r,m,g,D,E,p])=>[...r,m,g,D,E,p]),(0,d.U)(r=>this.sortByKeysPipe.transform(r,this.sortKeys))),this.sortKeys=["fromAccount","toAccount","amount","cuiCnp","payeeAdditionalName","payeeAdress","bicSwift","details","billDetails.field1","billDetails.field2","billDetails.field3","billDetails.field4","billDetails.field5","billDetails.field6","billDetails.field7","billDetails.field8","billDetails.field9","billDetails.field10","additionalDetails","trezNr","date","repeatAt","dateRepetition","feesPriority","opnr"]}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(Z.F),t.Y36(n.G85),t.Y36(_.sK),t.Y36(n.eJn),t.Y36(n.Lj3),t.Y36(I.p))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["ui-rzbr-payments-details-dynamic-container"]],features:[t._Bn([n.G85])],decls:4,vars:7,consts:[[1,"payment-details-container"],["type","simple",3,"items","title","ariaTitle"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0),t._UZ(1,"ui-rzbr-payment-details",1),t.ALo(2,"async"),t.ALo(3,"async"),t.qZA()),2&s&&(t.xp6(1),t.Q6J("items",t.lcZ(2,3,o.paymentsDetailsForm$))("title",t.lcZ(3,5,o.paymentDetailsTitle$))("ariaTitle","payments_details_header_title"))},dependencies:[G.r,h.Ov],styles:['h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:5rem}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:3.2rem}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:2.8rem}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:2.4rem}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:2rem}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:1.6rem}[class^=icon-][_ngcontent-%COMP%]:before, [class*=" icon-"][_ngcontent-%COMP%]:before{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}'],changeDetection:0})}return e})();var R=i(3665),mt=i(82805),W=i(60515),pt=i(15439),j=i.n(pt),O=i(21990);let dt=(()=>{class e{constructor(a,s,o,y,b){this.utilsFacade=a,this.paymentsFacade=s,this.modalService=o,this.translateService=y,this.authorizationFacade=b,this.systemDate$=this.utilsFacade.systemDate$}startCounter(){return this.systemDate$.pipe((0,S.M)(this.paymentsFacade.isHappyHour$),(0,C.z)(([a,s])=>{if(s){const y=j()(a).add(60,"minutes").startOf("hour").set("seconds",0).set("minutes",0).set("milliseconds",0).diff(j()(a),"milliseconds");return(0,mt.H)(y)}return W.E}),(0,k.q)(1),(0,S.M)((0,u.a)([this.paymentsFacade.pendingPaymentLoading$,this.authorizationFacade.pendingAuthorization$]).pipe((0,d.U)(a=>a.some(s=>s)))),(0,C.z)(([a,s])=>s?W.E:this.modalService.open(this.translateService.instant("payments__happy_hour__label__timeout"),this.translateService.instant("general__actions__ok"),!1)))}static#t=this.\u0275fac=function(s){return new(s||e)(t.LFG(O.I),t.LFG(Z.F),t.LFG(n.n$B),t.LFG(_.sK),t.LFG(R.n))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var V=i(18353),_t=i(68574),ht=i(23283);function ut(e,c){if(1&e){const a=t.EpF();t.TgZ(0,"div",11)(1,"div",12)(2,"ui-rzbr-payments-smart-fx-integral-timer",13),t.NdJ("expire",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.integralExpired())}),t.qZA()(),t._UZ(3,"span",14),t.ALo(4,"translate"),t.qZA()}2&e&&(t.xp6(3),t.Q6J("innerHTML",t.lcZ(4,1,"payments__smart_fx__label__title_integral"),t.oJD))}function yt(e,c){if(1&e&&(t._UZ(0,"ui-rzbr-account-avatar",15),t.ALo(1,"async"),t.ALo(2,"async")),2&e){const a=t.oxw();t.Q6J("name",t.lcZ(1,5,a.userName$))("image",t.lcZ(2,7,a.avatarUrl$))("hideDataOnMobile",!0)("ariaName","payments_confirmation_avatar_name")("ariaImage","payments_confirmation_avatar_image")}}function gt(e,c){if(1&e&&t._UZ(0,"ui-rzbr-account-avatar",16),2&e){const a=c.$implicit;t.Q6J("name",a.serviceName)("image",a.providerLogo)("hideLogo",!1)("ariaName","payments_confirmation_avatar_name")("ariaImage","payments_confirmation_avatar_image")}}function ft(e,c){if(1&e&&(t.TgZ(0,"div",17)(1,"div",18),t._UZ(2,"span",19),t.ALo(3,"translate"),t._UZ(4,"span",20),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"div",18),t._UZ(7,"span",19),t.ALo(8,"translate"),t._UZ(9,"span",20),t.ALo(10,"async"),t.qZA()()),2&e){const a=t.oxw();t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,4,"payments__labels__fcy_exchange_confirmation"),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.lcZ(5,6,a.exchangeRatesFxRateToString$),t.oJD),t.xp6(3),t.Q6J("innerHTML",t.lcZ(8,8,"general__labels__amount_conversion"),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.lcZ(10,10,a.exchangeConvertedToString$),t.oJD)}}function vt(e,c){if(1&e&&(t.TgZ(0,"div",18),t._UZ(1,"span",19),t.ALo(2,"async"),t.qZA()),2&e){const a=t.oxw(2);t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,a.labelFxExchangeDetails$),t.oJD)}}function xt(e,c){if(1&e&&(t.TgZ(0,"div",18),t._UZ(1,"span",19),t.ALo(2,"async"),t.qZA()),2&e){const a=t.oxw(2);t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,a.labelFxConversionDetails$),t.oJD)}}function $t(e,c){if(1&e&&(t.TgZ(0,"div",17),t.YNc(1,vt,3,3,"div",21),t.YNc(2,xt,3,3,"div",21),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.labelFxExchangeDetails$),t.xp6(1),t.Q6J("ngIf",a.labelFxConversionDetails$)}}function Lt(e,c){1&e&&(t.TgZ(0,"div",22),t._UZ(1,"p",23),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,"payments__instant__label__note"),t.oJD))}let Ft=(()=>{class e extends J.O{constructor(a,s,o,y,b,A,r,m){super(),this.paymentsFacade=a,this.authorizationFacade=s,this.translateService=o,this.paymentsComponentService=y,this.sortByKeysPipe=b,this.happyHourService=A,this.smartFxService=r,this.utilsFacade=m,this.userName$=this.paymentsComponentService.avatarName$,this.avatarUrl$=this.paymentsComponentService.avatarUrl$,this.postFormAmount$=this.paymentsFacade.postFormAmount$,this.postFormCurrency$=this.paymentsFacade.postFormCurrency$,this.showExchangeRates$=this.paymentsFacade.showExchangeRates$,this.showFxRates$=this.paymentsFacade.showFxRates$,this.isIntegral$=this.paymentsFacade.isFxSourceIntegral$,this.isActiveFeatureFxIntegral$=this.paymentsFacade.isActiveFeatureFxIntegral$,this.isActiveFeatureInstantPayment$=this.paymentsFacade.isActiveFeatureInstantPayment$,this.isInstantPayment$=this.paymentsFacade.isInstantPayment$,this.labelFxConversionDetails$=this.paymentsFacade.labelFxConversionDetails$,this.labelFxExchangeDetails$=this.paymentsFacade.labelFxExchangeDetails$,this.paymentsDetailsConfirmation$=this.paymentsComponentService.paymentsDetailsConfirmation$.pipe((0,d.U)(g=>this.sortByKeysPipe.transform(g,this.sortKeys))),this.selectedBillProvider$=this.paymentsFacade.selectedBillProvider$,this.paymentDetailsTitle$=this.paymentsFacade.paymentDetailsTitle$.pipe((0,C.z)(g=>this.translateService.get(g))),this.exchangeRatesFxRateToString$=this.paymentsComponentService.exchangeRatesFxRateToString$,this.exchangeConvertedToString$=this.paymentsComponentService.exchangeConvertedToString$,this.sortKeys=["fromAccount","toAccount","cuiCnp","payeeAdditionalName","payeeAdress","bicSwift","details","billDetails.field1","billDetails.field2","billDetails.field3","billDetails.field4","billDetails.field5","billDetails.field6","billDetails.field7","billDetails.field8","billDetails.field9","billDetails.field10","additionalDetails","trezNr","date","feesPriority","opnr"]}ngOnInit(){this.utilsFacade.getSystemDate(),this.registerSubscriptions(this.happyHourService.startCounter().subscribe(()=>{this.paymentsFacade.removeHappyHourData()}))}integralExpired(){this.paymentsFacade.showSmartFxExpiredDialog()}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(Z.F),t.Y36(R.n),t.Y36(_.sK),t.Y36(I.p),t.Y36(n.G85),t.Y36(dt),t.Y36(V.f),t.Y36(O.I))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["ui-rzbr-payments-confirmation"]],features:[t._Bn([n.G85]),t.qOj],decls:28,vars:43,consts:[["class","timer",4,"ngIf"],[1,"info"],[1,"avatar-container"],["size","large",3,"name","image","hideDataOnMobile","ariaName","ariaImage",4,"ngIf"],["type","biller","size","normal",3,"name","image","hideLogo","ariaName","ariaImage",4,"ngIf"],[1,"amount"],[3,"amount","currency","ariaLabel","generalLabel"],["class","exchange-rates","aria-label","payments_confirmation_exchange_rates",4,"ngIf"],[1,"details"],[3,"items","title","ariaTitle"],["class","note",4,"ngIf"],[1,"timer"],[1,"timer-icon"],[3,"expire"],["aria-label","payments_smart_fx_title",1,"timer-text",3,"innerHTML"],["size","large",3,"name","image","hideDataOnMobile","ariaName","ariaImage"],["type","biller","size","normal",3,"name","image","hideLogo","ariaName","ariaImage"],["aria-label","payments_confirmation_exchange_rates",1,"exchange-rates"],[1,"exchange-rates-converted"],[1,"converted-label",3,"innerHTML"],[1,"converted-amount",3,"innerHTML"],["class","exchange-rates-converted",4,"ngIf"],[1,"note"],[1,"message",3,"innerHTML"]],template:function(s,o){1&s&&(t.TgZ(0,"ui-rzbr-transaction-confirmation"),t.YNc(1,ut,5,3,"div",0),t.ALo(2,"async"),t.ALo(3,"async"),t.TgZ(4,"div",1)(5,"div",2),t.YNc(6,yt,3,9,"ui-rzbr-account-avatar",3),t.ALo(7,"async"),t.YNc(8,gt,1,5,"ui-rzbr-account-avatar",4),t.ALo(9,"async"),t.qZA(),t.TgZ(10,"div",5),t._UZ(11,"ui-rzbr-format-amount",6),t.ALo(12,"async"),t.ALo(13,"async"),t.ALo(14,"translate"),t.YNc(15,ft,11,12,"div",7),t.ALo(16,"async"),t.ALo(17,"async"),t.YNc(18,$t,3,2,"div",7),t.ALo(19,"async"),t.ALo(20,"async"),t.qZA()(),t.TgZ(21,"div",8),t._UZ(22,"ui-rzbr-payment-details",9),t.ALo(23,"async"),t.ALo(24,"async"),t.qZA(),t.YNc(25,Lt,3,3,"div",10),t.ALo(26,"async"),t.ALo(27,"async"),t.qZA()),2&s&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,13,o.isActiveFeatureFxIntegral$)&&t.lcZ(3,15,o.isIntegral$)),t.xp6(5),t.Q6J("ngIf",!t.lcZ(7,17,o.selectedBillProvider$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(9,19,o.selectedBillProvider$)),t.xp6(3),t.Q6J("amount",t.lcZ(12,21,o.postFormAmount$))("currency",t.lcZ(13,23,o.postFormCurrency$))("ariaLabel","payments_confirmation_amount_value")("generalLabel",t.lcZ(14,25,"general__labels_balance_unavailable")),t.xp6(4),t.Q6J("ngIf",!t.lcZ(16,27,o.isActiveFeatureFxIntegral$)&&t.lcZ(17,29,o.showExchangeRates$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(19,31,o.isActiveFeatureFxIntegral$)&&t.lcZ(20,33,o.showFxRates$)),t.xp6(4),t.Q6J("items",t.lcZ(23,35,o.paymentsDetailsConfirmation$))("title",t.lcZ(24,37,o.paymentDetailsTitle$))("ariaTitle","payments_details_header_title"),t.xp6(3),t.Q6J("ngIf",t.lcZ(26,39,o.isActiveFeatureInstantPayment$)&&t.lcZ(27,41,o.isInstantPayment$)))},dependencies:[h.O5,n.edG,n.Cle,G.r,_t.K,ht.R,h.Ov,_.X$],encapsulation:2,changeDetection:0})}return e})();var bt=i(81310),Pt=i(42836),N=i(75844),Ct=i(68470),At=i(70704),Tt=i(30326),Zt=i(47185);function Dt(e,c){1&e&&t._UZ(0,"ui-rzbr-preloader",10),2&e&&t.Q6J("showLoader",!0)}function Mt(e,c){if(1&e&&(t._UZ(0,"ui-rzbr-account-avatar",11),t.ALo(1,"async"),t.ALo(2,"async")),2&e){const a=t.oxw();t.Q6J("name",t.lcZ(1,4,a.userName$))("image",t.lcZ(2,6,a.avatarUrl$))("ariaName","payments_resolution_avatar_name")("ariaImage","payments_resolution_avatar_image")}}function zt(e,c){if(1&e&&t._UZ(0,"ui-rzbr-account-avatar",12),2&e){const a=c.$implicit;t.Q6J("name",a.serviceName)("image",a.providerLogo)("hideLogo",!1)("ariaName","payments_confirmation_avatar_name")("ariaImage","payments_confirmation_avatar_image")}}function St(e,c){1&e&&t._UZ(0,"p",13),2&e&&t.Q6J("innerHTML",c.$implicit,t.oJD)}function It(e,c){1&e&&(t.TgZ(0,"span",23),t._UZ(1,"span",24)(2,"span",25),t.ALo(3,"translate"),t.qZA()),2&e&&(t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,1,"payments_templates__labels_save_success"),t.oJD))}function Ot(e,c){1&e&&(t.TgZ(0,"span",23),t._UZ(1,"span",26)(2,"span",25),t.ALo(3,"translate"),t.qZA()),2&e&&(t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,1,"payments_templates__labels_save_fail"),t.oJD))}const X=function(e){return{value:e}};function Jt(e,c){if(1&e){const a=t.EpF();t.TgZ(0,"div",14),t._UZ(1,"p",15),t.ALo(2,"translate"),t.YNc(3,It,4,3,"span",16),t.ALo(4,"async"),t.YNc(5,Ot,4,3,"span",16),t.ALo(6,"async"),t.TgZ(7,"form",17)(8,"ui-rzbr-animated-input",18),t.NdJ("onfocus",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.onInputFocus())}),t.ALo(9,"async"),t.ALo(10,"async"),t.ALo(11,"async"),t.ALo(12,"translate"),t.ALo(13,"translate"),t.qZA()(),t.TgZ(14,"div",19)(15,"button",20),t.NdJ("click",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.saveTemplateName())}),t.ALo(16,"async"),t._UZ(17,"span",21),t.ALo(18,"translate"),t._UZ(19,"ui-rzbr-icon",22),t.qZA()()()}if(2&e){const a=t.oxw();t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,19,"payments_templates__actions__save"),t.oJD),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,21,a.templateSaved$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,23,a.templateSaveFailed$)),t.xp6(2),t.Q6J("formGroup",a.formGroup),t.xp6(1),t.Q6J("maxLength",a.maxLength)("minlength",a.minLength)("allowedCharacters",a.regex)("error",a.formControl.invalid||t.lcZ(9,25,a.templateExists$))("showError",t.lcZ(10,27,a.templateExists$))("rzbrDisableControl",t.lcZ(11,29,a.templateSaved$))("errorMsg",t.xi3(12,31,a.errorMessage,t.VKq(40,X,a.minLength)))("showClear",!0)("showRemaining",!0)("remainingMessages",a.remainingMessages)("label",t.lcZ(13,34,"payments__labels__template_name")),t.xp6(7),t.Q6J("type","primary")("disabled",t.lcZ(16,36,a.templateSaved$)),t.xp6(2),t.Q6J("innerHtml",t.lcZ(18,38,"general__labels__save_contact"),t.oJD),t.xp6(2),t.Q6J("name",a.iconName.ARROW_RIGHT_BOLD)}}function Rt(e,c){1&e&&(t.TgZ(0,"span",23),t._UZ(1,"span",24)(2,"span",25),t.ALo(3,"translate"),t.qZA()),2&e&&(t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,1,"payments_templates__labels_save_success"),t.oJD))}function Nt(e,c){1&e&&(t.TgZ(0,"span",23),t._UZ(1,"span",26)(2,"span",25),t.ALo(3,"translate"),t.qZA()),2&e&&(t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,1,"payments_templates__labels_save_fail"),t.oJD))}function Et(e,c){if(1&e){const a=t.EpF();t.TgZ(0,"div",14),t._UZ(1,"p",15),t.ALo(2,"translate"),t.YNc(3,Rt,4,3,"span",16),t.ALo(4,"async"),t.YNc(5,Nt,4,3,"span",16),t.ALo(6,"async"),t.TgZ(7,"form",17),t._UZ(8,"ui-rzbr-animated-input",27),t.ALo(9,"async"),t.ALo(10,"translate"),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",19)(13,"button",20),t.NdJ("click",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.checkIfTemplateNameExists())}),t.ALo(14,"async"),t._UZ(15,"span",21),t.ALo(16,"translate"),t._UZ(17,"ui-rzbr-icon",22),t.qZA()()()}if(2&e){const a=t.oxw();t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,18,"payments_templates__actions__save"),t.oJD),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,20,a.templateSaved$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,22,a.templateSaveFailed$)),t.xp6(2),t.Q6J("formGroup",a.formGroup),t.xp6(1),t.Q6J("maxLength",a.maxLength)("minlength",a.minLength)("allowedCharacters",a.regex)("error",a.formControl.invalid)("rzbrDisableControl",t.lcZ(9,24,a.templateSaved$))("errorMsg",t.xi3(10,26,a.errorMessage,t.VKq(35,X,a.minLength)))("showClear",!0)("showRemaining",!0)("remainingMessages",a.remainingMessages)("label",t.lcZ(11,29,"payments__labels__template_name")),t.xp6(5),t.Q6J("type","primary")("disabled",t.lcZ(14,31,a.templateSaved$)),t.xp6(2),t.Q6J("innerHtml",t.lcZ(16,33,"general__labels__save_contact"),t.oJD),t.xp6(2),t.Q6J("name",a.iconName.ARROW_RIGHT_BOLD)}}function wt(e,c){if(1&e){const a=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.generateCyberReceipt())}),t._UZ(1,"span",21),t.ALo(2,"translate"),t._UZ(3,"ui-rzbr-icon",22),t.qZA()}if(2&e){const a=t.oxw();t.Q6J("type","secondary"),t.xp6(1),t.Q6J("innerHtml",t.lcZ(2,3,"general__labels__proof_of_payment"),t.oJD),t.xp6(2),t.Q6J("name",a.iconName.DOWNLOAD)}}function Ut(e,c){if(1&e){const a=t.EpF();t.TgZ(0,"div",33)(1,"div",34),t._UZ(2,"p",35),t.ALo(3,"translate"),t._UZ(4,"p",25),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",28),t.NdJ("click",function(){t.CHM(a);const o=t.oxw(2);return t.KtG(o.goToAccountsFuturePayments())}),t._UZ(7,"span",21),t.ALo(8,"translate"),t._UZ(9,"ui-rzbr-icon",22),t.qZA()()}if(2&e){const a=c.$implicit,s=t.oxw(2);t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,5,a.title),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.lcZ(5,7,a.info),t.oJD),t.xp6(2),t.Q6J("type","secondary"),t.xp6(1),t.Q6J("innerHtml",t.lcZ(8,9,"payments__labels__future_payments"),t.oJD),t.xp6(2),t.Q6J("name",s.iconName.ARROW_RIGHT_BOLD)}}function Qt(e,c){if(1&e){const a=t.EpF();t.TgZ(0,"div",29)(1,"div",30),t.YNc(2,Ut,10,11,"div",31),t.ALo(3,"async"),t._UZ(4,"p",32),t.ALo(5,"translate"),t.TgZ(6,"button",28),t.NdJ("click",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.goToAccountsTransactionHistory())}),t._UZ(7,"span",21),t.ALo(8,"translate"),t._UZ(9,"ui-rzbr-icon",22),t.qZA(),t.TgZ(10,"button",28),t.NdJ("click",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.showForm())}),t._UZ(11,"span",21),t.ALo(12,"translate"),t._UZ(13,"ui-rzbr-icon",22),t.qZA()()()}if(2&e){const a=t.oxw();t.xp6(2),t.Q6J("ngIf",t.lcZ(3,8,a.futureOrRecurrentPayment$)),t.xp6(2),t.Q6J("innerHTML",t.lcZ(5,10,"general__label__suggestions"),t.oJD),t.xp6(2),t.Q6J("type","white"),t.xp6(1),t.Q6J("innerHtml",t.lcZ(8,12,"general__actions__transactions_history_2"),t.oJD),t.xp6(2),t.Q6J("name",a.iconName.ARROW_RIGHT_BOLD),t.xp6(1),t.Q6J("type","primary"),t.xp6(1),t.Q6J("innerHtml",t.lcZ(12,14,"general__actions__new_payment"),t.oJD),t.xp6(2),t.Q6J("name",a.iconName.ARROW_RIGHT_BOLD)}}const Ht=function(e){return{"full-width":e}};let Bt=(()=>{class e extends J.O{get errorMessage(){return this._templateExists?"payments_templates__labels__template_exist_message":this.formControl.hasError("minlength")?"payments_templates__errors_min_chars":this.formControl.hasError("required")?"errors__status__mandatory_field":""}constructor(a,s,o,y,b,A){super(),this.paymentsFacade=a,this.cyberReceiptFacade=s,this.inputService=o,this.utilsFacade=y,this.paymentsComponentService=b,this.fb=A,this._templateExists=!1,this.iconName=n.uHH,this.cyberLoading$=this.cyberReceiptFacade.loading$,this.userName$=this.paymentsComponentService.avatarName$,this.avatarUrl$=this.paymentsComponentService.avatarUrl$,this.selectedToAccountIban$=this.paymentsFacade.selectedToAccountIban$,this.paymentStatus$=this.paymentsFacade.paymentStatus$,this.isStatusFraud$=this.paymentStatus$.pipe((0,d.U)(r=>r===N.L.FRAUD)),this.showTemplate$=this.paymentStatus$.pipe((0,d.U)(r=>r===N.L.COMPLETED||r===N.L.PENDING)),this.postFormBasicPaymentDateToDate$=this.paymentsFacade.postFormBasicPaymentDateToDate$,this.systemDateToDate$=this.utilsFacade.systemDateToDate$,this.isNotSameDay$=(0,u.a)([this.systemDateToDate$,this.postFormBasicPaymentDateToDate$]).pipe((0,d.U)(([r,m])=>!(0,Ct.KC)(r,m))),this.displayCyberReceipt$=this.paymentsFacade.paymentStatusCompleted$.pipe((0,S.M)(this.isNotSameDay$),(0,d.U)(([r,m])=>r&&!m)),this.showRepetitivePayment$=this.paymentsFacade.showRepetitivePayment$,this.selectedBillProvider$=this.paymentsFacade.selectedBillProvider$,this.futureOrRecurrentPayment$=(0,u.a)([this.isNotSameDay$,this.showRepetitivePayment$]).pipe((0,d.U)(([r,m])=>m?{title:"payments__labels__repetitive_payments_info_title",info:"payments__labels__repetitive_payments_info"}:r?{title:"payments__labels__future_payments_info_title",info:"payments__labels__future_payments_info"}:null)),this.isActiveFeatureNewTemplate$=this.paymentsFacade.isActiveFeatureNewTemplate$,this.templateSaved$=(0,u.a)([this.paymentsFacade.template$,this.paymentsFacade.isActiveFeatureNewTemplate$,this.paymentsFacade.templateSaved$]).pipe((0,d.U)(([r,m,g])=>m?r.saved:g)),this.templateSaveFailed$=(0,u.a)([this.paymentsFacade.template$,this.paymentsFacade.isActiveFeatureNewTemplate$,this.paymentsFacade.templateSaveFailed$]).pipe((0,d.U)(([r,m,g])=>m?r.error.saved:g)),this.templateExists$=this.paymentsFacade.template$.pipe((0,d.U)(r=>r.error.exists)),this.regex=/^[\da-zA-Z\s()?:'\-+{},.\/]*$/,this.maxLength=35,this.minLength=3,this.remainingMessages=this.inputService.getRemainingMessages(),this.formControl=this.fb.control("",[l.kI.required,l.kI.maxLength(this.maxLength),l.kI.minLength(this.minLength),l.kI.pattern(this.regex)]),this.formGroup=this.fb.group({template:this.formControl})}ngOnInit(){this.registerSubscriptions(this.templateExists$.subscribe(a=>{this._templateExists=a}))}goToAccountsTransactionHistory(){this.paymentsFacade.goToAccountsTransactionHistory()}goToAccountsFuturePayments(){this.paymentsFacade.goToAccountsFuturePayments()}checkIfTemplateNameExists(){this.formControl.valid&&this.paymentsFacade.checkIfTemplateNameExists(this.formControl.value)}saveTemplateName(){this.formControl.valid&&this.paymentsFacade.saveTemplateName(this.formControl.value)}onInputFocus(){this.paymentsFacade.resetTemplateNameExistsError()}showForm(){this.paymentsFacade.resetForm(),this.paymentsFacade.updateWizardIndex(0)}generateCyberReceipt(){this.cyberReceiptFacade.generateCyberReceipt()}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(Z.F),t.Y36(At.p),t.Y36(Tt.f),t.Y36(O.I),t.Y36(I.p),t.Y36(l.QS))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["ui-rzbr-payments-resolution-post"]],features:[t.qOj],decls:22,vars:33,consts:[["class","preloader",3,"showLoader",4,"ngIf"],[1,"actions",3,"ngClass"],[1,"avatar"],[1,"avatar-content"],["alignLogo","center","size","large",3,"name","image","ariaName","ariaImage",4,"ngIf"],["type","biller","size","normal","alignLogo","center",3,"name","image","hideLogo","ariaName","ariaImage",4,"ngIf"],["class","iban","aria-label","payments_resolution_receiving_iban",3,"innerHTML",4,"ngIf"],["class","template",4,"ngIf"],["uiRzbrButton","",3,"type","click",4,"ngIf"],["class","suggestions",4,"ngIf"],[1,"preloader",3,"showLoader"],["alignLogo","center","size","large",3,"name","image","ariaName","ariaImage"],["type","biller","size","normal","alignLogo","center",3,"name","image","hideLogo","ariaName","ariaImage"],["aria-label","payments_resolution_receiving_iban",1,"iban",3,"innerHTML"],[1,"template"],["aria-label","payments_resolution_action_save_label",1,"template-label",3,"innerHTML"],["class","template-saved",4,"ngIf"],[3,"formGroup"],["formControlName","template",3,"maxLength","minlength","allowedCharacters","error","showError","rzbrDisableControl","errorMsg","showClear","showRemaining","remainingMessages","label","onfocus"],[1,"save-template"],["uiRzbrButton","",3,"type","disabled","click"],[3,"innerHtml"],[3,"name"],[1,"template-saved"],[1,"template-saved--icon"],[3,"innerHTML"],[1,"template-saved--failed"],["formControlName","template",3,"maxLength","minlength","allowedCharacters","error","rzbrDisableControl","errorMsg","showClear","showRemaining","remainingMessages","label"],["uiRzbrButton","",3,"type","click"],[1,"suggestions"],[1,"suggestions-content"],["class","future-payment",4,"ngIf"],[1,"input-label",3,"innerHTML"],[1,"future-payment"],[1,"info"],[1,"title",3,"innerHTML"]],template:function(s,o){1&s&&(t.YNc(0,Dt,1,1,"ui-rzbr-preloader",0),t.ALo(1,"async"),t.TgZ(2,"div",1),t.ALo(3,"async"),t.TgZ(4,"div",2)(5,"div",3),t.YNc(6,Mt,3,8,"ui-rzbr-account-avatar",4),t.ALo(7,"async"),t.YNc(8,zt,1,5,"ui-rzbr-account-avatar",5),t.ALo(9,"async"),t.YNc(10,St,1,1,"p",6),t.ALo(11,"async"),t.qZA()(),t.YNc(12,Jt,20,42,"div",7),t.ALo(13,"async"),t.ALo(14,"async"),t.YNc(15,Et,18,37,"div",7),t.ALo(16,"async"),t.ALo(17,"async"),t.YNc(18,wt,4,5,"button",8),t.ALo(19,"async"),t.qZA(),t.YNc(20,Qt,14,16,"div",9),t.ALo(21,"async")),2&s&&(t.Q6J("ngIf",t.lcZ(1,9,o.cyberLoading$)),t.xp6(2),t.Q6J("ngClass",t.VKq(31,Ht,t.lcZ(3,11,o.isStatusFraud$))),t.xp6(4),t.Q6J("ngIf",!t.lcZ(7,13,o.selectedBillProvider$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(9,15,o.selectedBillProvider$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(11,17,o.selectedToAccountIban$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(13,19,o.showTemplate$)&&t.lcZ(14,21,o.isActiveFeatureNewTemplate$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(16,23,o.showTemplate$)&&!t.lcZ(17,25,o.isActiveFeatureNewTemplate$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(19,27,o.displayCyberReceipt$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(21,29,o.isStatusFraud$)))},dependencies:[h.mk,h.O5,l._Y,l.JJ,l.JL,l.wO,l.sg,l.u,n.lDN,n.edG,n.xq7,Zt.d,n.NjR,n._kN,h.Ov,_.X$],encapsulation:2,changeDetection:0})}return e})(),Yt=(()=>{class e{constructor(a,s){this.paymentsFacade=a,this.translateService=s,this.paymentStatus$=this.paymentsFacade.paymentStatus$,this.paymentStatusMessage$=this.paymentsFacade.paymentStatusMessage$.pipe((0,C.z)(o=>o?this.translateService.get(o):(0,z.of)(""))),this.paymentStatusSecondaryMessage$=this.paymentsFacade.paymentStatusSecondaryMessage$}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(Z.F),t.Y36(_.sK))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["ui-rzbr-payments-resolution"]],decls:6,vars:11,consts:[[1,"payment-resolution"],[3,"status","primaryMessage","secondaryMessage","ariaPrimary","ariaSecondary"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0)(1,"ui-rzbr-transaction-resolution",1),t.ALo(2,"async"),t.ALo(3,"async"),t.ALo(4,"async"),t._UZ(5,"ui-rzbr-payments-resolution-post"),t.qZA()()),2&s&&(t.xp6(1),t.Q6J("status",t.lcZ(2,5,o.paymentStatus$))("primaryMessage",t.lcZ(3,7,o.paymentStatusMessage$))("secondaryMessage",t.lcZ(4,9,o.paymentStatusSecondaryMessage$))("ariaPrimary","payments_resolution_message_primary")("ariaSecondary","payments_resolution_message_secondary"))},dependencies:[Pt.U,Bt,h.Ov],styles:['h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:5rem}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:3.2rem}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:2.8rem}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:2.4rem}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:2rem}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:1.6rem}[class^=icon-][_ngcontent-%COMP%]:before, [class*=" icon-"][_ngcontent-%COMP%]:before{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[_nghost-%COMP%]{display:block;width:100%}.payment-resolution[_ngcontent-%COMP%]{height:100%}'],changeDetection:0})}return e})();var Kt=i(12108),kt=i(40428),Gt=i(97898),Wt=i(74548);function jt(e,c){1&e&&(t.ynx(0),t.TgZ(1,"div",3),t._UZ(2,"ui-rzbr-preloader",4),t.qZA(),t.BQk()),2&e&&(t.xp6(2),t.Q6J("showLoader",!0)("noBackground",!0))}function Vt(e,c){if(1&e&&(t.ynx(0),t.TgZ(1,"div",9),t._UZ(2,"ui-rzbr-wizard",10),t.ALo(3,"async"),t._UZ(4,"ui-rzbr-preloader",11),t.ALo(5,"async"),t.ALo(6,"async"),t.ALo(7,"translate"),t.ALo(8,"async"),t.ALo(9,"translate"),t.qZA(),t.BQk()),2&e){const a=t.oxw(5);t.xp6(2),t.Q6J("steps",a.wizardSteps)("currentIndex",t.lcZ(3,7,a.wizardIndex$))("progress",!0),t.xp6(2),t.Q6J("fullPage",!0)("showLoader",t.lcZ(5,9,a.showPreloader$))("labelTitle",t.lcZ(6,11,a.showPreloaderLabels$)?t.lcZ(7,13,"general__labels__preloader_waiting_title"):null)("label",t.lcZ(8,15,a.showPreloaderLabels$)?t.lcZ(9,17,"general__labels__preloader_waiting_message"):null)}}function Xt(e,c){1&e&&(t._UZ(0,"ui-rzbr-no-info",12),t.ALo(1,"translate")),2&e&&t.Q6J("message",t.lcZ(1,2,"payments__labels__eligibility__no_eligible_accounts_le"))("highlighted",!0)}function qt(e,c){if(1&e&&(t.ynx(0),t._UZ(1,"h1",7),t.ALo(2,"async"),t.YNc(3,Vt,10,19,"ng-container",1),t.ALo(4,"async"),t.YNc(5,Xt,2,4,"ng-template",null,8,t.W1O),t.BQk()),2&e){const a=t.MAs(6),s=t.oxw(4);t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,3,s.pageTitle$),t.oJD),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,5,s.fromAccountsNotEmpty$))("ngIfElse",a)}}function te(e,c){if(1&e&&(t.ynx(0),t.YNc(1,qt,7,7,"ng-container",5),t.ALo(2,"async"),t.BQk()),2&e){const a=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,a.eligibleStandardLoaded$))}}function ee(e,c){if(1&e){const a=t.EpF();t._UZ(0,"h1",13),t.ALo(1,"async"),t._UZ(2,"ui-rzbr-no-info",14),t.ALo(3,"translate"),t.ALo(4,"translate"),t.TgZ(5,"button",15),t.NdJ("click",function(){t.CHM(a);const o=t.oxw(3);return t.KtG(o.goToOpenNewAccount())}),t._UZ(6,"span",16),t.ALo(7,"translate"),t._UZ(8,"ui-rzbr-icon",17),t.qZA()}if(2&e){const a=t.oxw(3);t.Q6J("innerHTML",t.lcZ(1,8,a.pageTitle$),t.oJD),t.xp6(2),t.Q6J("messageBold",t.lcZ(3,10,"payments__labels__eligibility__no_eligible_accounts"))("message",t.lcZ(4,12,"payments__labels__eligibility__description__no_eligible_accounts"))("highlighted",!0),t.xp6(3),t.Q6J("type","primary")("disabled",!1),t.xp6(1),t.Q6J("innerHtml",t.lcZ(7,14,"accounts__actions__open_current_account"),t.oJD),t.xp6(2),t.Q6J("name",a.iconName.ARROW_RIGHT_BOLD)}}function ae(e,c){if(1&e&&(t.ynx(0),t.YNc(1,te,3,3,"ng-container",1),t.ALo(2,"async"),t.YNc(3,ee,9,16,"ng-template",null,6,t.W1O),t.BQk()),2&e){const a=t.MAs(4),s=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,s.accountItemsNotEmpty$))("ngIfElse",a)}}function ne(e,c){if(1&e&&(t.YNc(0,ae,5,4,"ng-container",5),t.ALo(1,"async")),2&e){const a=t.oxw();t.Q6J("ngIf",t.lcZ(1,1,a.accountsLoaded$))}}const ie=[{path:"",component:(()=>{class e extends J.O{get isInstantPayment(){return this.paymentsFacade.isInstantPayment$}constructor(a,s,o,y,b,A,r,m,g,D,E){super(),this.accountsFacade=a,this.paymentsFacade=s,this.translateService=o,this.paymentTemplatesFacade=y,this.utilsFacade=b,this.authFacade=A,this.billPaymentsFacade=r,this.authorizationFacade=m,this.paymentsComponentService=g,this.smartFxService=D,this.router=E,this.iconName=n.uHH,this.requiresAuthorization=!1,this.mustValidateSmartHour=!1,this.mustValidateIntegral=!1,this.shouldSwitchToEditFlow=!1,this.accountsLoaded$=this.accountsFacade.withBalanceLoaded$,this.accountsLoading$=this.accountsFacade.loading$,this.accountItems$=this.accountsFacade.items$,this.accountItemsNotEmpty$=this.accountsFacade.items$.pipe((0,d.U)(p=>p.length>0)),this.fromAccounts$=this.paymentsFacade.fromAccounts$,this.fromAccountsNotEmpty$=this.paymentsFacade.fromAccounts$.pipe((0,d.U)(p=>p.length>0)),this.eligibleStandardLoading$=this.paymentsFacade.eligibleStandardLoading$,this.eligibleStandardLoaded$=this.paymentsFacade.eligibleStandardLoaded$,this.reverseEligibilityLoading$=this.paymentsFacade.reverseEligibilityLoading$,this.wizardIndex$=this.paymentsFacade.wizardIndex$,this.pageTitle$=this.paymentsFacade.pageTitle$.pipe((0,C.z)(p=>p?this.translateService.get(p):(0,z.of)(""))),this.pendingPaymentLoading$=this.paymentsFacade.pendingPaymentLoading$,this.exchangeRatesLoading$=this.paymentsFacade.exchangeRatesLoading$,this.currenciesListLoading$=this.paymentsFacade.currenciesListLoading$,this.exchangeRatesPreClassifyLoading$=this.paymentsFacade.exchangeRatesPreClassifyLoading$,this.eligibleWithParamsLoading$=this.paymentsFacade.eligibleWithParamsLoading$,this.validateAndCheckTxnLoading$=this.paymentsFacade.validateAndCheckTxnLoading$,this.classifyPaymentLoading$=this.paymentsFacade.classifyPaymentLoading$,this.templateLoading$=(0,u.a)([this.paymentsFacade.template$,this.paymentsFacade.isActiveFeatureNewTemplate$,this.paymentsFacade.templateLoading$]).pipe((0,d.U)(([p,$,oe])=>$?p.loading:oe)),this.fieldValidationLoading$=this.paymentsFacade.fieldValidationLoading$,this.activeTemplateLoading$=this.paymentsFacade.activeTemplateLoading$,this.activeTemplate$=this.paymentsFacade.activeTemplate$,this.editTemplate$=this.paymentsFacade.editTemplate$,this.shouldSwitchToEditFlow$=this.paymentTemplatesFacade.shouldSwitchToEditFlow$,this.formConfirmed$=this.paymentsFacade.formConfirmed$,this.quoteLoading$=this.paymentsFacade.quoteLoading$,this.requiresAuthorizationAndEtoken$=this.paymentsComponentService.requiresAuthorizationAndEtoken$,this.confirmBtnLabel$=this.requiresAuthorizationAndEtoken$.pipe((0,d.U)(p=>p?"general__actions__confirm_payment_with_authorization":"general__actions__confirm_payment"),(0,C.z)(p=>p?this.translateService.get(p):(0,z.of)(""))),this.mustValidateSmartHour$=(0,u.a)([this.paymentsFacade.isActiveFeatureFxIntegral$,this.paymentsFacade.isFxSourceBNR$]).pipe((0,d.U)(p=>p.every($=>$))).subscribe(p=>{this.mustValidateSmartHour=p}),this.mustValidateIntegral$=(0,u.a)([this.paymentsFacade.isActiveFeatureFxIntegral$,this.paymentsFacade.isFxSourceIntegral$]).pipe((0,d.U)(p=>p.every($=>$))).subscribe(p=>{this.mustValidateIntegral=p}),this.showLoader$=(0,u.a)([this.accountsLoading$,this.eligibleStandardLoading$,this.activeTemplateLoading$]).pipe((0,d.U)(p=>p.some($=>$))),this.showPreloader$=(0,u.a)([this.pendingPaymentLoading$,this.eligibleWithParamsLoading$,this.classifyPaymentLoading$,this.exchangeRatesLoading$,this.exchangeRatesPreClassifyLoading$,this.reverseEligibilityLoading$,this.currenciesListLoading$,this.validateAndCheckTxnLoading$,this.templateLoading$,this.fieldValidationLoading$,this.activeTemplateLoading$,this.quoteLoading$]).pipe((0,d.U)(p=>p.some($=>$))),this.showPreloaderLabels$=this.showPreloader$.pipe((0,ot.g)(6e3)),this.noAnimation$=(0,u.a)([this.activeTemplate$,this.formConfirmed$]).pipe((0,d.U)(([p,$])=>p&&!$)),this.dynamicPaymentDetails={component:ct},this.dynamicPaymentForm={component:bt.D},this.dynamicPaymentConfirmation={component:Ft},this.dynamicPaymentResolution={component:Yt},this.wizardSteps=[{component:n.zlD,input:{formComponent:this.dynamicPaymentForm,detailsComponent:this.dynamicPaymentDetails,noAnimation:this.noAnimation$}},{component:n.Bbi,input:{paymentConfirmation:this.dynamicPaymentConfirmation,primaryBtnLabel:this.confirmBtnLabel$,secondaryBtnLabel:this.translateService.instant("general__actions__back")},output:{showFormStep:()=>{this.paymentsFacade.updateFormConfirmed(!0),this.paymentsFacade.updateWizardIndex(0)},primaryAction:()=>{!this.mustValidateSmartHour||this.smartFxService.isSmartHourActive?this.mustValidateIntegral&&this.smartFxService.isIntegralActive?this.paymentsFacade.showSmartFxExpiredDialog():(this.smartFxService.resetIntervals(),this.requiresAuthorization?this.authorizationFacade.postPayment():this.paymentsFacade.postPayment()):this.paymentsFacade.showSmartFxExpiredDialog()}}},{component:n.n2k,input:{paymentResolution:this.dynamicPaymentResolution}}]}ngOnInit(){this.registerSubscriptions(this.shouldSwitchToEditFlow$.subscribe(a=>{this.shouldSwitchToEditFlow=a}),this.editTemplate$.pipe((0,k.q)(1)).subscribe(a=>{a&&this.paymentsFacade.resetStore()}),this.accountsLoaded$.pipe((0,rt.R)(this.authFacade.isLoggedIn$.pipe((0,lt.h)(a=>!1===a))),(0,S.M)(this.utilsFacade.systemDate$,this.accountItems$,this.activeTemplate$)).subscribe(([a,s,o,y])=>{y||(a&&o.length?this.paymentsFacade.initializeStandardEligibilityOrReverseEligibility():this.accountsFacade.loadAccountsWithBalance()),this.paymentsFacade.updatePaymentDate(s)}),this.requiresAuthorizationAndEtoken$.subscribe(a=>{this.requiresAuthorization=a})),this.billPaymentsFacade.getBillProviders(),this.paymentTemplatesFacade.loadTemplateList()}goToOpenNewAccount(){this.router.navigate(["/others/new-product"])}ngOnDestroy(){super.ngOnDestroy(),this.shouldSwitchToEditFlow||(this.paymentsFacade.resetStore(),this.paymentTemplatesFacade.resetStore())}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(Kt.q),t.Y36(Z.F),t.Y36(_.sK),t.Y36(kt.Z),t.Y36(O.I),t.Y36(Gt.j),t.Y36(Wt.N),t.Y36(R.n),t.Y36(I.p),t.Y36(V.f),t.Y36(f.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["ui-rzbr-payments"]],features:[t.qOj],decls:5,vars:4,consts:[[1,"payments"],[4,"ngIf","ngIfElse"],["container",""],[1,"payments-preloader"],[3,"showLoader","noBackground"],[4,"ngIf"],["accountsNoInfo",""],["aria-label","payments_page_title",1,"page-title","page-title--black",3,"innerHTML"],["eligibilityNoInfo",""],[1,"payments-wizard"],[3,"steps","currentIndex","progress"],[3,"fullPage","showLoader","labelTitle","label"],[3,"message","highlighted"],[1,"page-title","page-title--black",3,"innerHTML"],[3,"messageBold","message","highlighted"],["uiRzbrButton","",3,"type","disabled","click"],[3,"innerHtml"],[3,"name"]],template:function(s,o){if(1&s&&(t.TgZ(0,"section",0),t.YNc(1,jt,3,2,"ng-container",1),t.ALo(2,"async"),t.YNc(3,ne,2,3,"ng-template",null,2,t.W1O),t.qZA()),2&s){const y=t.MAs(4);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,o.showLoader$))("ngIfElse",y)}},dependencies:[h.O5,n.qbt,n.lDN,n.OPr,n.NjR,n._kN,h.Ov,_.X$],styles:['h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:5rem}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:3.2rem}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:2.8rem}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:2.4rem}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:2rem}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:1.6rem}[class^=icon-][_ngcontent-%COMP%]:before, [class*=" icon-"][_ngcontent-%COMP%]:before{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.payments[_ngcontent-%COMP%]{max-width:940px;margin:0 auto}.payments-wizard[_ngcontent-%COMP%]{position:relative}.payments-preloader[_ngcontent-%COMP%]{position:relative;min-height:40rem}'],changeDetection:0})}return e})()}];let se=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#a=this.\u0275inj=t.cJS({imports:[h.ez,f.Bz.forChild(ie),l.UX,_.aw,n.Gx9,n._$z,n.dvI,n.wpQ,n.OOx,n.tJG,n.NkL,n.sNz,n.hlj,n.ivq,n.QYi,n.Y_f,n.UA2,tt.Q,L.z,n.i3p,et.q,B,n.rLh,U.Z,K.o,Q.a,n.jgg,H,F.g,w,n.eVA,n.KKX,n.Dgd,it.N,Y.f,nt.R,n.kyq,st]})}return e})()},19613:(M,v,i)=>{i.d(v,{g:()=>F});var h=i(36895),l=i(188),f=i(8397),n=(i(49598),i(94650));let F=(()=>{class x{static#t=this.\u0275fac=function(t){return new(t||x)};static#e=this.\u0275mod=n.oAB({type:x});static#a=this.\u0275inj=n.cJS({imports:[h.ez,l.dvI,l.Dgd,f.z8]})}return x})()},40556:(M,v,i)=>{i.d(v,{f:()=>f});var h=i(36895),l=i(94650);let f=(()=>{class _{static#t=this.\u0275fac=function(F){return new(F||_)};static#e=this.\u0275mod=l.oAB({type:_});static#a=this.\u0275inj=l.cJS({imports:[h.ez]})}return _})()},42836:(M,v,i)=>{i.d(v,{U:()=>n});var h=i(75844),l=i(94650),f=i(25786);const _=["*"];let n=(()=>{class L{constructor(){this.primaryMessage="",this.secondaryMessage="",this.status=h.L.PENDING,this.ariaPrimary="",this.ariaSecondary=""}static#t=this.\u0275fac=function(T){return new(T||L)};static#e=this.\u0275cmp=l.Xpm({type:L,selectors:[["ui-rzbr-transaction-resolution"]],inputs:{primaryMessage:"primaryMessage",secondaryMessage:"secondaryMessage",status:"status",ariaPrimary:"ariaPrimary",ariaSecondary:"ariaSecondary"},ngContentSelectors:_,decls:5,vars:5,consts:[[1,"transaction-resolution"],[1,"transaction-resolution-status"],[3,"message","secondaryMessage","type","ariaPrimary","ariaSecondary"],[1,"transaction-resolution-content"]],template:function(T,P){1&T&&(l.F$t(),l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"ui-rzbr-payments-status",2),l.qZA(),l.TgZ(3,"div",3),l.Hsn(4),l.qZA()()),2&T&&(l.xp6(2),l.Q6J("message",P.primaryMessage)("secondaryMessage",P.secondaryMessage)("type",P.status)("ariaPrimary",P.ariaPrimary)("ariaSecondary",P.ariaSecondary))},dependencies:[f.C],styles:['h1,.h1{font-size:5rem}h2,.h2{font-size:3.2rem}h3,.h3{font-size:2.8rem}h4,.h4{font-size:2.4rem}h5,.h5{font-size:2rem}h6,.h6{font-size:1.6rem}.transaction-resolution-content .actions .template-saved--failed:before,.transaction-resolution-content .actions .template-saved--icon:before,[class^=icon-]:before,[class*=" icon-"]:before{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host{display:block;height:100%}.transaction-resolution{display:flex;flex-direction:column;height:100%}.transaction-resolution-status{flex:0 0 auto;border-top:1px solid #ffffff}.transaction-resolution-content{flex:1 1 auto}.transaction-resolution-content>*{display:flex;width:100%;padding-top:1.6rem;justify-content:space-between;position:relative;flex-wrap:wrap}.transaction-resolution-content .actions{display:flex;flex-direction:column;font-size:2rem;align-items:center;flex:0 0 49%}.transaction-resolution-content .actions.full-width{flex:1}.transaction-resolution-content .actions .avatar{flex:1 0 auto;display:flex;align-items:center;justify-content:center;margin-bottom:1.6rem}.transaction-resolution-content .actions .avatar-content{flex:1 1 auto}.transaction-resolution-content .actions .template{flex:0 0 auto;width:100%}.transaction-resolution-content .actions .template-label{color:#aaabad;font-size:2rem;text-align:center}@media (max-width: 767.98px){.transaction-resolution-content .actions .template-label{font-size:1.6rem}}@media (max-width: 479.98px){.transaction-resolution-content .actions .template-label{font-size:1.4rem}}.transaction-resolution-content .actions .template-saved{font-size:1.6rem;display:flex;align-items:center;text-align:center;justify-content:center}.transaction-resolution-content .actions .template-saved--icon{padding:.8rem;display:flex;align-items:center;color:#35b37e}.transaction-resolution-content .actions .template-saved--icon:before{content:"\\e9ae"}.transaction-resolution-content .actions .template-saved--failed{padding:.8rem;display:flex;align-items:center;color:#e61e33}.transaction-resolution-content .actions .template-saved--failed:before{content:"\\e902"}.transaction-resolution-content .actions .share{margin-top:1.6rem}.transaction-resolution-content .actions .payment-proof-icon{display:flex;font-size:7rem;justify-content:center;align-items:center;margin:2.4rem 0}@media (max-width: 767.98px){.transaction-resolution-content .actions{flex:1 1 100%;font-size:1.6rem}}@media (max-width: 479.98px){.transaction-resolution-content .actions{font-size:1.4rem}}.transaction-resolution-content .suggestions{display:flex;align-items:flex-end;flex:0 0 49%}.transaction-resolution-content .suggestions-content{width:100%}@media (max-width: 767.98px){.transaction-resolution-content .suggestions{flex:1 1 100%;margin-top:2.4rem}}.transaction-resolution-content .suggestions .future-payment{background:#35b37e;margin-bottom:2rem}.transaction-resolution-content .suggestions .future-payment .info{color:#fff;padding:1rem}@media (max-width: 767.98px){.transaction-resolution-content .suggestions .future-payment .info{font-size:1.4rem;text-align:center}}.transaction-resolution-content .suggestions .future-payment .info .title{font-size:2rem;font-weight:700}@media (max-width: 767.98px){.transaction-resolution-content .suggestions .future-payment .info .title{font-size:1.8rem}}.transaction-resolution-content .preloader{position:absolute;top:0;left:0;width:100%;height:100%}\n'],encapsulation:2,changeDetection:0})}return L})()},304:(M,v,i)=>{i.d(v,{N:()=>_});var h=i(36895),l=i(7330),f=i(94650);let _=(()=>{class n{static#t=this.\u0275fac=function(x){return new(x||n)};static#e=this.\u0275mod=f.oAB({type:n});static#a=this.\u0275inj=f.cJS({imports:[h.ez,l.q]})}return n})()},42744:(M,v,i)=>{i.d(v,{o:()=>f});var h=i(36895),l=i(94650);let f=(()=>{class _{static#t=this.\u0275fac=function(F){return new(F||_)};static#e=this.\u0275mod=l.oAB({type:_});static#a=this.\u0275inj=l.cJS({imports:[h.ez]})}return _})()}}]);