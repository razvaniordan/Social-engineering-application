"use strict";(self.webpackChunkraiffeisen_pi=self.webpackChunkraiffeisen_pi||[]).push([[3664],{23664:(w,f,o)=>{o.r(f),o.d(f,{FirstLoginModule:()=>A});var c=o(36895),a=o(24006),_=o(66159),u=o(89383),s=o(188),p=o(88765),d=o(80038),e=o(94650),C=o(97898),M=o(57515),O=o(12482),b=o(9941);function P(n,l){if(1&n&&(e._UZ(0,"li",18),e.ALo(1,"translate")),2&n){const i=e.oxw();e.Q6J("innerHTML",e.lcZ(1,1,i.error),e.oJD)}}function L(n,l){1&n&&(e._UZ(0,"li",19),e.ALo(1,"translate")),2&n&&e.Q6J("innerHTML",e.lcZ(1,1,"user_profile__labels__between_8_50"),e.oJD)}function U(n,l){1&n&&(e._UZ(0,"li",19),e.ALo(1,"translate")),2&n&&e.Q6J("innerHTML",e.lcZ(1,1,"user_profile__labels__at_least_one_letter"),e.oJD)}function T(n,l){1&n&&(e._UZ(0,"li",19),e.ALo(1,"translate")),2&n&&e.Q6J("innerHTML",e.lcZ(1,1,"errors__status__not_allowed_characters"),e.oJD)}function v(n,l){1&n&&(e._UZ(0,"li",19),e.ALo(1,"translate")),2&n&&e.Q6J("innerHTML",e.lcZ(1,1,"errors__status__max_one_at_sign"),e.oJD)}function z(n,l){1&n&&(e._UZ(0,"li",19),e.ALo(1,"translate")),2&n&&e.Q6J("innerHTML",e.lcZ(1,1,"login__errors__username_unavailable"),e.oJD)}const Z=function(n,l){return{active:n,error:l}},J=function(n){return{"has-error":n}},x=function(n){return{"error-label":n}};let F=(()=>{class n{get isRequired(){return this.changeUsernameForm.get("username").hasError("required")}get lengthLimitsAndSpace(){return!this.changeUsernameForm.get("username").hasError("minlength")&&!this.changeUsernameForm.get("username").hasError("maxlength")}get atLeastOneLetter(){return this.changeUsernameForm.get("username").hasError("atLeastOneLetter")}get specialCharactersAllowed(){return this.changeUsernameForm.get("username").hasError("specialCharactersAllowed")}get onlyOnce(){return this.changeUsernameForm.get("username").hasError("onlyOnce")}constructor(i){this.document=i,this.iconName=s.uHH,this.errorChange=new e.vpe,this.submits=new e.vpe,this.emitToaster=new e.vpe,this.minUsername=8,this.maxUsername=50,this.highlightLabel=!1,this.sameUserName=!1,this.changeUsernameForm=new a.nJ({username:new a.p4("",[a.kI.required,a.kI.minLength(this.minUsername),a.kI.maxLength(this.maxUsername),this.regexTest("[a-zA-Z]","atLeastOneLetter"),this.regexTest("^[a-zA-Z0-9_.\\-@]*$","specialCharactersAllowed"),this.regexTest("^([^@]*@){0,1}[^@]*$","onlyOnce")])})}ngOnInit(){this.changeUsernameForm.get("username").valueChanges.subscribe(i=>{this.sameUserName=!!i&&this.initialUsername===i})}regexTest(i,r="regex"){return t=>new RegExp(i).test(t.value)?null:{[r]:{valid:!1}}}highlightLabels(i){i.classList.toggle("focus"),""!==this.error&&this.errorChange.emit(""),this.highlightLabel=!this.highlightLabel}onEnter(i){this.changeUsernameForm.invalid||this.loading||""!==this.error||"Enter"!==i.key||(this.document.activeElement&&this.document.activeElement.blur(),this.emitSubmit())}emitSubmit(){const{username:i}=this.changeUsernameForm.value;this.submits.emit({username:i}),this.changeUsernameForm.reset(),this.changeUsernameForm.setValue({username:""}),this.changeUsernameForm.updateValueAndValidity()}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(c.K0))};static#n=this.\u0275cmp=e.Xpm({type:n,selectors:[["ui-rzbr-change-initial-username"]],inputs:{loading:"loading",error:"error",initialUsername:"initialUsername"},outputs:{errorChange:"errorChange",submits:"submits",emitToaster:"emitToaster"},decls:27,vars:32,consts:[[1,"change-initial-container"],[1,"change-initial-column"],[3,"showLoader"],["autocomplete","off",1,"change-initial-form",3,"formGroup","keypress"],[1,"change-initial-title",3,"innerHTML"],[1,"form-group",3,"ngClass"],["usernameGroup",""],["for","username",1,"placeholder",3,"innerHTML"],["type","text","formControlName","username",3,"minlength","maxlength","ngClass","focus","blur"],["username",""],[1,"change-initial-form-errorMessage",3,"ngClass"],["class","change-initial-form-errorMessage error-label",3,"innerHTML",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"form-group"],["uiRzbrButton","",1,"ui-rzbr-button--type-primary-small",3,"type","disabled","click"],[3,"innerHtml"],[3,"name"],[1,"change-initial-actions"],[1,"change-initial-form-errorMessage","error-label",3,"innerHTML"],[3,"innerHTML"]],template:function(r,t){if(1&r){const m=e.EpF();e._UZ(0,"ui-rzbr-toaster"),e.TgZ(1,"div",0)(2,"div",1),e._UZ(3,"ui-rzbr-preloader",2),e.TgZ(4,"form",3),e.NdJ("keypress",function(h){return t.onEnter(h)}),e._UZ(5,"div",4),e.ALo(6,"translate"),e.TgZ(7,"div",5,6),e._UZ(9,"label",7),e.ALo(10,"translate"),e.TgZ(11,"input",8,9),e.NdJ("focus",function(){e.CHM(m);const h=e.MAs(8);return e.KtG(t.highlightLabels(h))})("blur",function(){e.CHM(m);const h=e.MAs(8);return e.KtG(t.highlightLabels(h))}),e.qZA()(),e.TgZ(13,"ul",10),e.YNc(14,P,2,3,"li",11),e.YNc(15,L,2,3,"li",12),e.YNc(16,U,2,3,"li",12),e.YNc(17,T,2,3,"li",12),e.YNc(18,v,2,3,"li",12),e.YNc(19,z,2,3,"li",12),e.qZA(),e.TgZ(20,"div",13)(21,"button",14),e.NdJ("click",function(){return t.emitSubmit()}),e._UZ(22,"span",15),e.ALo(23,"translate"),e._UZ(24,"ui-rzbr-icon",16),e.qZA()()(),e.TgZ(25,"div",17),e._UZ(26,"ui-rzbr-information-actions"),e.qZA()()()}if(2&r){const m=e.MAs(12);e.xp6(3),e.Q6J("showLoader",t.loading),e.xp6(1),e.Q6J("formGroup",t.changeUsernameForm),e.xp6(1),e.Q6J("innerHTML",e.lcZ(6,19,"first_login__title"),e.oJD),e.xp6(2),e.Q6J("ngClass",e.WLB(25,Z,m.value.trim(),""!==t.error)),e.xp6(2),e.Q6J("innerHTML",e.lcZ(10,21,"first_login__label"),e.oJD),e.xp6(2),e.Q6J("minlength",t.minUsername)("maxlength",t.maxUsername)("ngClass",e.VKq(28,J,t.changeUsernameForm.touched&&t.changeUsernameForm.hasError("required"))),e.xp6(2),e.Q6J("ngClass",e.VKq(30,x,t.highlightLabel)),e.xp6(1),e.Q6J("ngIf",t.error),e.xp6(1),e.Q6J("ngIf",!t.lengthLimitsAndSpace||t.isRequired),e.xp6(1),e.Q6J("ngIf",t.atLeastOneLetter),e.xp6(1),e.Q6J("ngIf",t.specialCharactersAllowed),e.xp6(1),e.Q6J("ngIf",t.onlyOnce),e.xp6(1),e.Q6J("ngIf",t.sameUserName),e.xp6(2),e.Q6J("type","primary")("disabled",t.changeUsernameForm.invalid||t.sameUserName||t.loading||""!==t.error),e.xp6(1),e.Q6J("innerHtml",e.lcZ(23,23,"first_login__action_button"),e.oJD),e.xp6(2),e.Q6J("name",t.iconName.ARROW_RIGHT_BOLD)}},dependencies:[c.mk,c.O5,a._Y,a.Fj,a.JJ,a.JL,a.wO,a.nD,a.sg,a.u,s.PWI,s.lDN,s.NjR,b.m,s._kN,u.X$],styles:['h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:5rem}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:3.2rem}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:2.8rem}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:2.4rem}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:2rem}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:1.6rem}[class^=icon-][_ngcontent-%COMP%]:before, [class*=" icon-"][_ngcontent-%COMP%]:before{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.change-initial[_ngcontent-%COMP%]{width:100%;height:100%}.change-initial-container[_ngcontent-%COMP%]{position:relative;margin-top:11rem;display:block;width:29rem;margin-bottom:3rem;height:30rem}@media (max-width: 767.98px){.change-initial-container[_ngcontent-%COMP%]{margin-top:0}}.change-initial-column[_ngcontent-%COMP%]{border:.1rem solid #e9eaea;background-color:#fff;border-top:.5rem solid #fee600;padding:2.5rem 3rem 3rem;position:relative;height:100%;display:table}.change-initial-form-errorMessage[_ngcontent-%COMP%]{font-size:1.2rem;padding-bottom:1.5rem}.change-initial-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{transition-duration:.3s;position:relative;margin-bottom:1.5rem;box-shadow:0 0 #fff}.change-initial-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{left:2rem;pointer-events:none;transition-duration:.3s;position:absolute;top:0;font-size:1.2rem;padding-top:2rem;z-index:0;color:#55575c}.change-initial-form[_ngcontent-%COMP%]   .form-group.active[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], .change-initial-form[_ngcontent-%COMP%]   .form-group.focus[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{transition-duration:.3s;z-index:2;font-size:1.2rem;padding-top:.7rem}.change-initial-form[_ngcontent-%COMP%]   .form-group.active[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .change-initial-form[_ngcontent-%COMP%]   .form-group.focus[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:0}.change-initial-form[_ngcontent-%COMP%]   .form-group.focus[_ngcontent-%COMP%]{box-shadow:0 0 3px 2px #fee600}.change-initial-form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]{box-shadow:-4px 0 #e61e33}.change-initial-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;width:100%;background-color:transparent;color:#2b2d33;border:1px solid #e9eaea;height:5.4rem;padding:2.5rem 0 1rem 2rem;box-shadow:inset 0 0 0 0 transparent;font-size:1.4rem}.change-initial-form[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:disc;padding-left:1.6rem}.change-initial-actions[_ngcontent-%COMP%]{padding-top:1rem}.change-initial-title[_ngcontent-%COMP%]{font-size:1.2rem;padding:1rem 0}.error-label[_ngcontent-%COMP%]{color:#e61e33}[_nghost-%COMP%]  .notification-area{position:fixed;top:0;width:100%;left:0;right:0}'],changeDetection:0})}return n})();const y=[{path:"",component:(()=>{class n{constructor(i,r){this.authFacade=i,this.storeResetService=r,this.loading$=this.authFacade.loading$,this.error$=this.authFacade.error$,this.username$=this.authFacade.accountUserName$}resetError(){this.authFacade.resetError()}submits(i){this.authFacade.changeUsernameFirstLogin(i)}redirectToNeedHelp(i){this.storeResetService.clearWithRedirectNeedHelp()}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(C.j),e.Y36(M.c))};static#n=this.\u0275cmp=e.Xpm({type:n,selectors:[["ui-rzbr-first-login"]],decls:13,vars:15,consts:[[1,"first-login-content"],[3,"initialUsername","loading","error","errorChange","submits","emitToaster"],[1,"first-login-message"],[1,"first-login-message--item",3,"innerHTML"]],template:function(r,t){1&r&&(e._UZ(0,"ui-rzbr-dialog")(1,"ui-rzbr-modal"),e.TgZ(2,"ui-rzbr-background")(3,"div",0)(4,"ui-rzbr-change-initial-username",1),e.NdJ("errorChange",function(){return t.resetError()})("submits",function(g){return t.submits(g)})("emitToaster",function(g){return t.redirectToNeedHelp(g)}),e.ALo(5,"async"),e.ALo(6,"async"),e.ALo(7,"async"),e.qZA(),e.TgZ(8,"div",2),e._UZ(9,"div",3),e.ALo(10,"translate"),e._UZ(11,"div",3),e.ALo(12,"translate"),e.qZA()()()),2&r&&(e.xp6(4),e.Q6J("initialUsername",e.lcZ(5,5,t.username$))("loading",e.lcZ(6,7,t.loading$))("error",e.lcZ(7,9,t.error$)),e.xp6(5),e.Q6J("innerHTML",e.lcZ(10,11,"login__labels__welcome"),e.oJD),e.xp6(2),e.Q6J("innerHTML",e.lcZ(12,13,"login__labels__raiffeisen_online"),e.oJD))},dependencies:[s.Tvp,s.CLE,O.I,F,c.Ov,u.X$],styles:['h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:5rem}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:3.2rem}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:2.8rem}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:2.4rem}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:2rem}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:1.6rem}[class^=icon-][_ngcontent-%COMP%]:before, [class*=" icon-"][_ngcontent-%COMP%]:before{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.first-login-content[_ngcontent-%COMP%]{position:relative;width:30rem;height:30rem}@media (max-width: 767.98px){.first-login-content[_ngcontent-%COMP%]{width:29rem}}.first-login-message[_ngcontent-%COMP%]{transition-duration:1s;position:absolute;top:-1rem;left:100%;padding-left:1.5rem;margin-bottom:3rem;line-height:4.2rem}@media (max-width: 991.98px){.first-login-message[_ngcontent-%COMP%]{left:0;top:-11rem;padding:0}}@media (max-width: 767.98px){.first-login-message[_ngcontent-%COMP%]{margin-top:-2.5rem;line-height:3rem}}@media (max-width: 479.98px){.first-login-message[_ngcontent-%COMP%]{margin-top:-1rem}}.first-login-message--item[_ngcontent-%COMP%]{color:#fff;white-space:nowrap;font-size:3rem}.first-login-message--item[_ngcontent-%COMP%]:last-child{font-size:4.32rem;line-height:4.2rem}@media (min-width: 768px){.first-login-message--item[_ngcontent-%COMP%]{font-weight:700}}@media (max-width: 767.98px){.first-login-message--item[_ngcontent-%COMP%]{font-size:2.2rem}.first-login-message--item[_ngcontent-%COMP%]:last-child{display:none}}'],changeDetection:0})}return n})()}];let A=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#n=this.\u0275mod=e.oAB({type:n});static#t=this.\u0275inj=e.cJS({imports:[c.ez,a.UX,_.Bz.forChild(y),u.aw,s.hnz,s.igK,s.dvI,s.Gx9,s.eVA,p.z,d.A,s.Dgd]})}return n})()}}]);